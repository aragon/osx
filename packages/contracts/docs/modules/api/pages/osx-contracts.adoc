:github-icon: pass:[<svg class="icon"><use href="#github-icon"/></svg>]
:xref-DAO-nonReentrant--: xref:osx-contracts.adoc#DAO-nonReentrant--
:xref-DAO-onlyCallAtInitialization--: xref:osx-contracts.adoc#DAO-onlyCallAtInitialization--
:xref-DAO-constructor--: xref:osx-contracts.adoc#DAO-constructor--
:xref-DAO-initialize-bytes-address-address-string-: xref:osx-contracts.adoc#DAO-initialize-bytes-address-address-string-
:xref-DAO-initializeFrom-uint8-3--bytes-: xref:osx-contracts.adoc#DAO-initializeFrom-uint8-3--bytes-
:xref-DAO-isPermissionRestrictedForAnyAddr-bytes32-: xref:osx-contracts.adoc#DAO-isPermissionRestrictedForAnyAddr-bytes32-
:xref-DAO-_authorizeUpgrade-address-: xref:osx-contracts.adoc#DAO-_authorizeUpgrade-address-
:xref-DAO-setTrustedForwarder-address-: xref:osx-contracts.adoc#DAO-setTrustedForwarder-address-
:xref-DAO-getTrustedForwarder--: xref:osx-contracts.adoc#DAO-getTrustedForwarder--
:xref-DAO-hasPermission-address-address-bytes32-bytes-: xref:osx-contracts.adoc#DAO-hasPermission-address-address-bytes32-bytes-
:xref-DAO-setMetadata-bytes-: xref:osx-contracts.adoc#DAO-setMetadata-bytes-
:xref-DAO-execute-bytes32-struct-Action---uint256-: xref:osx-contracts.adoc#DAO-execute-bytes32-struct-Action---uint256-
:xref-DAO-deposit-address-uint256-string-: xref:osx-contracts.adoc#DAO-deposit-address-uint256-string-
:xref-DAO-setSignatureValidator-address-: xref:osx-contracts.adoc#DAO-setSignatureValidator-address-
:xref-DAO-isValidSignature-bytes32-bytes-: xref:osx-contracts.adoc#DAO-isValidSignature-bytes32-bytes-
:xref-DAO-receive--: xref:osx-contracts.adoc#DAO-receive--
:xref-DAO-fallback-bytes-: xref:osx-contracts.adoc#DAO-fallback-bytes-
:xref-DAO-_setMetadata-bytes-: xref:osx-contracts.adoc#DAO-_setMetadata-bytes-
:xref-DAO-_setTrustedForwarder-address-: xref:osx-contracts.adoc#DAO-_setTrustedForwarder-address-
:xref-DAO-registerStandardCallback-bytes4-bytes4-bytes4-: xref:osx-contracts.adoc#DAO-registerStandardCallback-bytes4-bytes4-bytes4-
:xref-DAO-daoURI--: xref:osx-contracts.adoc#DAO-daoURI--
:xref-DAO-setDaoURI-string-: xref:osx-contracts.adoc#DAO-setDaoURI-string-
:xref-DAO-_setDaoURI-string-: xref:osx-contracts.adoc#DAO-_setDaoURI-string-
:xref-DAO-EXECUTE_PERMISSION_ID-bytes32: xref:osx-contracts.adoc#DAO-EXECUTE_PERMISSION_ID-bytes32
:xref-DAO-UPGRADE_DAO_PERMISSION_ID-bytes32: xref:osx-contracts.adoc#DAO-UPGRADE_DAO_PERMISSION_ID-bytes32
:xref-DAO-SET_METADATA_PERMISSION_ID-bytes32: xref:osx-contracts.adoc#DAO-SET_METADATA_PERMISSION_ID-bytes32
:xref-DAO-SET_TRUSTED_FORWARDER_PERMISSION_ID-bytes32: xref:osx-contracts.adoc#DAO-SET_TRUSTED_FORWARDER_PERMISSION_ID-bytes32
:xref-DAO-REGISTER_STANDARD_CALLBACK_PERMISSION_ID-bytes32: xref:osx-contracts.adoc#DAO-REGISTER_STANDARD_CALLBACK_PERMISSION_ID-bytes32
:xref-DAO-VALIDATE_SIGNATURE_PERMISSION_ID-bytes32: xref:osx-contracts.adoc#DAO-VALIDATE_SIGNATURE_PERMISSION_ID-bytes32
:xref-CallbackHandler-_handleCallback-bytes4-bytes-: xref:osx-contracts.adoc#CallbackHandler-_handleCallback-bytes4-bytes-
:xref-CallbackHandler-_registerCallback-bytes4-bytes4-: xref:osx-contracts.adoc#CallbackHandler-_registerCallback-bytes4-bytes4-
:xref-PermissionManager-__PermissionManager_init-address-: xref:osx-contracts.adoc#PermissionManager-__PermissionManager_init-address-
:xref-PermissionManager-grant-address-address-bytes32-: xref:osx-contracts.adoc#PermissionManager-grant-address-address-bytes32-
:xref-PermissionManager-grantWithCondition-address-address-bytes32-contract-IPermissionCondition-: xref:osx-contracts.adoc#PermissionManager-grantWithCondition-address-address-bytes32-contract-IPermissionCondition-
:xref-PermissionManager-revoke-address-address-bytes32-: xref:osx-contracts.adoc#PermissionManager-revoke-address-address-bytes32-
:xref-PermissionManager-applySingleTargetPermissions-address-struct-PermissionLib-SingleTargetPermission---: xref:osx-contracts.adoc#PermissionManager-applySingleTargetPermissions-address-struct-PermissionLib-SingleTargetPermission---
:xref-PermissionManager-applyMultiTargetPermissions-struct-PermissionLib-MultiTargetPermission---: xref:osx-contracts.adoc#PermissionManager-applyMultiTargetPermissions-struct-PermissionLib-MultiTargetPermission---
:xref-PermissionManager-isGranted-address-address-bytes32-bytes-: xref:osx-contracts.adoc#PermissionManager-isGranted-address-address-bytes32-bytes-
:xref-PermissionManager-_checkCondition-address-address-address-bytes32-bytes-: xref:osx-contracts.adoc#PermissionManager-_checkCondition-address-address-address-bytes32-bytes-
:xref-PermissionManager-_initializePermissionManager-address-: xref:osx-contracts.adoc#PermissionManager-_initializePermissionManager-address-
:xref-PermissionManager-_grant-address-address-bytes32-: xref:osx-contracts.adoc#PermissionManager-_grant-address-address-bytes32-
:xref-PermissionManager-_grantWithCondition-address-address-bytes32-contract-IPermissionCondition-: xref:osx-contracts.adoc#PermissionManager-_grantWithCondition-address-address-bytes32-contract-IPermissionCondition-
:xref-PermissionManager-_revoke-address-address-bytes32-: xref:osx-contracts.adoc#PermissionManager-_revoke-address-address-bytes32-
:xref-PermissionManager-_auth-bytes32-: xref:osx-contracts.adoc#PermissionManager-_auth-bytes32-
:xref-PermissionManager-permissionHash-address-address-bytes32-: xref:osx-contracts.adoc#PermissionManager-permissionHash-address-address-bytes32-
:xref-PermissionManager-ROOT_PERMISSION_ID-bytes32: xref:osx-contracts.adoc#PermissionManager-ROOT_PERMISSION_ID-bytes32
:xref-DAO-NewURI-string-: xref:osx-contracts.adoc#DAO-NewURI-string-
:xref-CallbackHandler-CallbackReceived-address-bytes4-bytes-: xref:osx-contracts.adoc#CallbackHandler-CallbackReceived-address-bytes4-bytes-
:xref-PermissionManager-Granted-bytes32-address-address-address-address-: xref:osx-contracts.adoc#PermissionManager-Granted-bytes32-address-address-address-address-
:xref-PermissionManager-Revoked-bytes32-address-address-address-: xref:osx-contracts.adoc#PermissionManager-Revoked-bytes32-address-address-address-
:xref-PermissionManager-auth-bytes32-: xref:osx-contracts.adoc#PermissionManager-auth-bytes32-
:xref-PermissionManager-__PermissionManager_init-address-: xref:osx-contracts.adoc#PermissionManager-__PermissionManager_init-address-
:xref-PermissionManager-grant-address-address-bytes32-: xref:osx-contracts.adoc#PermissionManager-grant-address-address-bytes32-
:xref-PermissionManager-grantWithCondition-address-address-bytes32-contract-IPermissionCondition-: xref:osx-contracts.adoc#PermissionManager-grantWithCondition-address-address-bytes32-contract-IPermissionCondition-
:xref-PermissionManager-revoke-address-address-bytes32-: xref:osx-contracts.adoc#PermissionManager-revoke-address-address-bytes32-
:xref-PermissionManager-applySingleTargetPermissions-address-struct-PermissionLib-SingleTargetPermission---: xref:osx-contracts.adoc#PermissionManager-applySingleTargetPermissions-address-struct-PermissionLib-SingleTargetPermission---
:xref-PermissionManager-applyMultiTargetPermissions-struct-PermissionLib-MultiTargetPermission---: xref:osx-contracts.adoc#PermissionManager-applyMultiTargetPermissions-struct-PermissionLib-MultiTargetPermission---
:xref-PermissionManager-isGranted-address-address-bytes32-bytes-: xref:osx-contracts.adoc#PermissionManager-isGranted-address-address-bytes32-bytes-
:xref-PermissionManager-_checkCondition-address-address-address-bytes32-bytes-: xref:osx-contracts.adoc#PermissionManager-_checkCondition-address-address-address-bytes32-bytes-
:xref-PermissionManager-_initializePermissionManager-address-: xref:osx-contracts.adoc#PermissionManager-_initializePermissionManager-address-
:xref-PermissionManager-_grant-address-address-bytes32-: xref:osx-contracts.adoc#PermissionManager-_grant-address-address-bytes32-
:xref-PermissionManager-_grantWithCondition-address-address-bytes32-contract-IPermissionCondition-: xref:osx-contracts.adoc#PermissionManager-_grantWithCondition-address-address-bytes32-contract-IPermissionCondition-
:xref-PermissionManager-_revoke-address-address-bytes32-: xref:osx-contracts.adoc#PermissionManager-_revoke-address-address-bytes32-
:xref-PermissionManager-_auth-bytes32-: xref:osx-contracts.adoc#PermissionManager-_auth-bytes32-
:xref-PermissionManager-permissionHash-address-address-bytes32-: xref:osx-contracts.adoc#PermissionManager-permissionHash-address-address-bytes32-
:xref-PermissionManager-isPermissionRestrictedForAnyAddr-bytes32-: xref:osx-contracts.adoc#PermissionManager-isPermissionRestrictedForAnyAddr-bytes32-
:xref-PermissionManager-ROOT_PERMISSION_ID-bytes32: xref:osx-contracts.adoc#PermissionManager-ROOT_PERMISSION_ID-bytes32
:xref-PermissionManager-Granted-bytes32-address-address-address-address-: xref:osx-contracts.adoc#PermissionManager-Granted-bytes32-address-address-address-address-
:xref-PermissionManager-Revoked-bytes32-address-address-address-: xref:osx-contracts.adoc#PermissionManager-Revoked-bytes32-address-address-address-
:xref-CallbackHandler-_handleCallback-bytes4-bytes-: xref:osx-contracts.adoc#CallbackHandler-_handleCallback-bytes4-bytes-
:xref-CallbackHandler-_registerCallback-bytes4-bytes4-: xref:osx-contracts.adoc#CallbackHandler-_registerCallback-bytes4-bytes4-
:xref-CallbackHandler-CallbackReceived-address-bytes4-bytes-: xref:osx-contracts.adoc#CallbackHandler-CallbackReceived-address-bytes4-bytes-
:xref-DAOFactory-constructor-contract-DAORegistry-contract-PluginSetupProcessor-: xref:osx-contracts.adoc#DAOFactory-constructor-contract-DAORegistry-contract-PluginSetupProcessor-
:xref-DAOFactory-supportsInterface-bytes4-: xref:osx-contracts.adoc#DAOFactory-supportsInterface-bytes4-
:xref-DAOFactory-createDao-struct-DAOFactory-DAOSettings-struct-DAOFactory-PluginSettings---: xref:osx-contracts.adoc#DAOFactory-createDao-struct-DAOFactory-DAOSettings-struct-DAOFactory-PluginSettings---
:xref-DAOFactory-_createDAO-struct-DAOFactory-DAOSettings-: xref:osx-contracts.adoc#DAOFactory-_createDAO-struct-DAOFactory-DAOSettings-
:xref-DAOFactory-_setDAOPermissions-address-: xref:osx-contracts.adoc#DAOFactory-_setDAOPermissions-address-
:xref-DAOFactory-daoBase-address: xref:osx-contracts.adoc#DAOFactory-daoBase-address
:xref-DAOFactory-daoRegistry-contract-DAORegistry: xref:osx-contracts.adoc#DAOFactory-daoRegistry-contract-DAORegistry
:xref-DAOFactory-pluginSetupProcessor-contract-PluginSetupProcessor: xref:osx-contracts.adoc#DAOFactory-pluginSetupProcessor-contract-PluginSetupProcessor
:xref-PluginRepoFactory-constructor-contract-PluginRepoRegistry-: xref:osx-contracts.adoc#PluginRepoFactory-constructor-contract-PluginRepoRegistry-
:xref-PluginRepoFactory-supportsInterface-bytes4-: xref:osx-contracts.adoc#PluginRepoFactory-supportsInterface-bytes4-
:xref-PluginRepoFactory-createPluginRepo-string-address-: xref:osx-contracts.adoc#PluginRepoFactory-createPluginRepo-string-address-
:xref-PluginRepoFactory-createPluginRepoWithFirstVersion-string-address-address-bytes-bytes-: xref:osx-contracts.adoc#PluginRepoFactory-createPluginRepoWithFirstVersion-string-address-address-bytes-bytes-
:xref-PluginRepoFactory-_setPluginRepoPermissions-contract-PluginRepo-address-: xref:osx-contracts.adoc#PluginRepoFactory-_setPluginRepoPermissions-contract-PluginRepo-address-
:xref-PluginRepoFactory-_createPluginRepo-string-address-: xref:osx-contracts.adoc#PluginRepoFactory-_createPluginRepo-string-address-
:xref-PluginRepoFactory-pluginRepoRegistry-contract-PluginRepoRegistry: xref:osx-contracts.adoc#PluginRepoFactory-pluginRepoRegistry-contract-PluginRepoRegistry
:xref-PluginRepoFactory-pluginRepoBase-address: xref:osx-contracts.adoc#PluginRepoFactory-pluginRepoBase-address
:xref-DAORegistry-constructor--: xref:osx-contracts.adoc#DAORegistry-constructor--
:xref-DAORegistry-initialize-contract-IDAO-contract-ENSSubdomainRegistrar-: xref:osx-contracts.adoc#DAORegistry-initialize-contract-IDAO-contract-ENSSubdomainRegistrar-
:xref-DAORegistry-register-contract-IDAO-address-string-: xref:osx-contracts.adoc#DAORegistry-register-contract-IDAO-address-string-
:xref-DAORegistry-REGISTER_DAO_PERMISSION_ID-bytes32: xref:osx-contracts.adoc#DAORegistry-REGISTER_DAO_PERMISSION_ID-bytes32
:xref-DAORegistry-subdomainRegistrar-contract-ENSSubdomainRegistrar: xref:osx-contracts.adoc#DAORegistry-subdomainRegistrar-contract-ENSSubdomainRegistrar
:xref-InterfaceBasedRegistry-__InterfaceBasedRegistry_init-contract-IDAO-bytes4-: xref:osx-contracts.adoc#InterfaceBasedRegistry-__InterfaceBasedRegistry_init-contract-IDAO-bytes4-
:xref-InterfaceBasedRegistry-_authorizeUpgrade-address-: xref:osx-contracts.adoc#InterfaceBasedRegistry-_authorizeUpgrade-address-
:xref-InterfaceBasedRegistry-_register-address-: xref:osx-contracts.adoc#InterfaceBasedRegistry-_register-address-
:xref-InterfaceBasedRegistry-UPGRADE_REGISTRY_PERMISSION_ID-bytes32: xref:osx-contracts.adoc#InterfaceBasedRegistry-UPGRADE_REGISTRY_PERMISSION_ID-bytes32
:xref-InterfaceBasedRegistry-targetInterfaceId-bytes4: xref:osx-contracts.adoc#InterfaceBasedRegistry-targetInterfaceId-bytes4
:xref-InterfaceBasedRegistry-entries-mapping-address----bool-: xref:osx-contracts.adoc#InterfaceBasedRegistry-entries-mapping-address----bool-
:xref-DAORegistry-DAORegistered-address-address-string-: xref:osx-contracts.adoc#DAORegistry-DAORegistered-address-address-string-
:xref-PluginRepoRegistry-constructor--: xref:osx-contracts.adoc#PluginRepoRegistry-constructor--
:xref-PluginRepoRegistry-initialize-contract-IDAO-contract-ENSSubdomainRegistrar-: xref:osx-contracts.adoc#PluginRepoRegistry-initialize-contract-IDAO-contract-ENSSubdomainRegistrar-
:xref-PluginRepoRegistry-registerPluginRepo-string-address-: xref:osx-contracts.adoc#PluginRepoRegistry-registerPluginRepo-string-address-
:xref-PluginRepoRegistry-REGISTER_PLUGIN_REPO_PERMISSION_ID-bytes32: xref:osx-contracts.adoc#PluginRepoRegistry-REGISTER_PLUGIN_REPO_PERMISSION_ID-bytes32
:xref-PluginRepoRegistry-subdomainRegistrar-contract-ENSSubdomainRegistrar: xref:osx-contracts.adoc#PluginRepoRegistry-subdomainRegistrar-contract-ENSSubdomainRegistrar
:xref-InterfaceBasedRegistry-__InterfaceBasedRegistry_init-contract-IDAO-bytes4-: xref:osx-contracts.adoc#InterfaceBasedRegistry-__InterfaceBasedRegistry_init-contract-IDAO-bytes4-
:xref-InterfaceBasedRegistry-_authorizeUpgrade-address-: xref:osx-contracts.adoc#InterfaceBasedRegistry-_authorizeUpgrade-address-
:xref-InterfaceBasedRegistry-_register-address-: xref:osx-contracts.adoc#InterfaceBasedRegistry-_register-address-
:xref-InterfaceBasedRegistry-UPGRADE_REGISTRY_PERMISSION_ID-bytes32: xref:osx-contracts.adoc#InterfaceBasedRegistry-UPGRADE_REGISTRY_PERMISSION_ID-bytes32
:xref-InterfaceBasedRegistry-targetInterfaceId-bytes4: xref:osx-contracts.adoc#InterfaceBasedRegistry-targetInterfaceId-bytes4
:xref-InterfaceBasedRegistry-entries-mapping-address----bool-: xref:osx-contracts.adoc#InterfaceBasedRegistry-entries-mapping-address----bool-
:xref-PluginRepoRegistry-PluginRepoRegistered-string-address-: xref:osx-contracts.adoc#PluginRepoRegistry-PluginRepoRegistered-string-address-
:xref-PluginRepo-constructor--: xref:osx-contracts.adoc#PluginRepo-constructor--
:xref-PluginRepo-initialize-address-: xref:osx-contracts.adoc#PluginRepo-initialize-address-
:xref-PluginRepo-initializeFrom-uint8-3--bytes-: xref:osx-contracts.adoc#PluginRepo-initializeFrom-uint8-3--bytes-
:xref-PluginRepo-createVersion-uint8-address-bytes-bytes-: xref:osx-contracts.adoc#PluginRepo-createVersion-uint8-address-bytes-bytes-
:xref-PluginRepo-updateReleaseMetadata-uint8-bytes-: xref:osx-contracts.adoc#PluginRepo-updateReleaseMetadata-uint8-bytes-
:xref-PluginRepo-getLatestVersion-uint8-: xref:osx-contracts.adoc#PluginRepo-getLatestVersion-uint8-
:xref-PluginRepo-getLatestVersion-address-: xref:osx-contracts.adoc#PluginRepo-getLatestVersion-address-
:xref-PluginRepo-getVersion-struct-PluginRepo-Tag-: xref:osx-contracts.adoc#PluginRepo-getVersion-struct-PluginRepo-Tag-
:xref-PluginRepo-getVersion-bytes32-: xref:osx-contracts.adoc#PluginRepo-getVersion-bytes32-
:xref-PluginRepo-buildCount-uint8-: xref:osx-contracts.adoc#PluginRepo-buildCount-uint8-
:xref-PluginRepo-tagHash-struct-PluginRepo-Tag-: xref:osx-contracts.adoc#PluginRepo-tagHash-struct-PluginRepo-Tag-
:xref-PluginRepo-_authorizeUpgrade-address-: xref:osx-contracts.adoc#PluginRepo-_authorizeUpgrade-address-
:xref-PluginRepo-supportsInterface-bytes4-: xref:osx-contracts.adoc#PluginRepo-supportsInterface-bytes4-
:xref-PluginRepo-MAINTAINER_PERMISSION_ID-bytes32: xref:osx-contracts.adoc#PluginRepo-MAINTAINER_PERMISSION_ID-bytes32
:xref-PluginRepo-UPGRADE_REPO_PERMISSION_ID-bytes32: xref:osx-contracts.adoc#PluginRepo-UPGRADE_REPO_PERMISSION_ID-bytes32
:xref-PluginRepo-latestRelease-uint8: xref:osx-contracts.adoc#PluginRepo-latestRelease-uint8
:xref-PermissionManager-__PermissionManager_init-address-: xref:osx-contracts.adoc#PermissionManager-__PermissionManager_init-address-
:xref-PermissionManager-grant-address-address-bytes32-: xref:osx-contracts.adoc#PermissionManager-grant-address-address-bytes32-
:xref-PermissionManager-grantWithCondition-address-address-bytes32-contract-IPermissionCondition-: xref:osx-contracts.adoc#PermissionManager-grantWithCondition-address-address-bytes32-contract-IPermissionCondition-
:xref-PermissionManager-revoke-address-address-bytes32-: xref:osx-contracts.adoc#PermissionManager-revoke-address-address-bytes32-
:xref-PermissionManager-applySingleTargetPermissions-address-struct-PermissionLib-SingleTargetPermission---: xref:osx-contracts.adoc#PermissionManager-applySingleTargetPermissions-address-struct-PermissionLib-SingleTargetPermission---
:xref-PermissionManager-applyMultiTargetPermissions-struct-PermissionLib-MultiTargetPermission---: xref:osx-contracts.adoc#PermissionManager-applyMultiTargetPermissions-struct-PermissionLib-MultiTargetPermission---
:xref-PermissionManager-isGranted-address-address-bytes32-bytes-: xref:osx-contracts.adoc#PermissionManager-isGranted-address-address-bytes32-bytes-
:xref-PermissionManager-_checkCondition-address-address-address-bytes32-bytes-: xref:osx-contracts.adoc#PermissionManager-_checkCondition-address-address-address-bytes32-bytes-
:xref-PermissionManager-_initializePermissionManager-address-: xref:osx-contracts.adoc#PermissionManager-_initializePermissionManager-address-
:xref-PermissionManager-_grant-address-address-bytes32-: xref:osx-contracts.adoc#PermissionManager-_grant-address-address-bytes32-
:xref-PermissionManager-_grantWithCondition-address-address-bytes32-contract-IPermissionCondition-: xref:osx-contracts.adoc#PermissionManager-_grantWithCondition-address-address-bytes32-contract-IPermissionCondition-
:xref-PermissionManager-_revoke-address-address-bytes32-: xref:osx-contracts.adoc#PermissionManager-_revoke-address-address-bytes32-
:xref-PermissionManager-_auth-bytes32-: xref:osx-contracts.adoc#PermissionManager-_auth-bytes32-
:xref-PermissionManager-permissionHash-address-address-bytes32-: xref:osx-contracts.adoc#PermissionManager-permissionHash-address-address-bytes32-
:xref-PermissionManager-isPermissionRestrictedForAnyAddr-bytes32-: xref:osx-contracts.adoc#PermissionManager-isPermissionRestrictedForAnyAddr-bytes32-
:xref-PermissionManager-ROOT_PERMISSION_ID-bytes32: xref:osx-contracts.adoc#PermissionManager-ROOT_PERMISSION_ID-bytes32
:xref-PermissionManager-Granted-bytes32-address-address-address-address-: xref:osx-contracts.adoc#PermissionManager-Granted-bytes32-address-address-address-address-
:xref-PermissionManager-Revoked-bytes32-address-address-address-: xref:osx-contracts.adoc#PermissionManager-Revoked-bytes32-address-address-address-
:xref-IPluginRepo-VersionCreated-uint8-uint16-address-bytes-: xref:osx-contracts.adoc#IPluginRepo-VersionCreated-uint8-uint16-address-bytes-
:xref-IPluginRepo-ReleaseMetadataUpdated-uint8-bytes-: xref:osx-contracts.adoc#IPluginRepo-ReleaseMetadataUpdated-uint8-bytes-
:xref-PluginSetupProcessor-canApply-address-bytes32-: xref:osx-contracts.adoc#PluginSetupProcessor-canApply-address-bytes32-
:xref-PluginSetupProcessor-constructor-contract-PluginRepoRegistry-: xref:osx-contracts.adoc#PluginSetupProcessor-constructor-contract-PluginRepoRegistry-
:xref-PluginSetupProcessor-prepareInstallation-address-struct-PluginSetupProcessor-PrepareInstallationParams-: xref:osx-contracts.adoc#PluginSetupProcessor-prepareInstallation-address-struct-PluginSetupProcessor-PrepareInstallationParams-
:xref-PluginSetupProcessor-applyInstallation-address-struct-PluginSetupProcessor-ApplyInstallationParams-: xref:osx-contracts.adoc#PluginSetupProcessor-applyInstallation-address-struct-PluginSetupProcessor-ApplyInstallationParams-
:xref-PluginSetupProcessor-prepareUpdate-address-struct-PluginSetupProcessor-PrepareUpdateParams-: xref:osx-contracts.adoc#PluginSetupProcessor-prepareUpdate-address-struct-PluginSetupProcessor-PrepareUpdateParams-
:xref-PluginSetupProcessor-applyUpdate-address-struct-PluginSetupProcessor-ApplyUpdateParams-: xref:osx-contracts.adoc#PluginSetupProcessor-applyUpdate-address-struct-PluginSetupProcessor-ApplyUpdateParams-
:xref-PluginSetupProcessor-prepareUninstallation-address-struct-PluginSetupProcessor-PrepareUninstallationParams-: xref:osx-contracts.adoc#PluginSetupProcessor-prepareUninstallation-address-struct-PluginSetupProcessor-PrepareUninstallationParams-
:xref-PluginSetupProcessor-applyUninstallation-address-struct-PluginSetupProcessor-ApplyUninstallationParams-: xref:osx-contracts.adoc#PluginSetupProcessor-applyUninstallation-address-struct-PluginSetupProcessor-ApplyUninstallationParams-
:xref-PluginSetupProcessor-validatePreparedSetupId-bytes32-bytes32-: xref:osx-contracts.adoc#PluginSetupProcessor-validatePreparedSetupId-bytes32-bytes32-
:xref-PluginSetupProcessor-APPLY_INSTALLATION_PERMISSION_ID-bytes32: xref:osx-contracts.adoc#PluginSetupProcessor-APPLY_INSTALLATION_PERMISSION_ID-bytes32
:xref-PluginSetupProcessor-APPLY_UPDATE_PERMISSION_ID-bytes32: xref:osx-contracts.adoc#PluginSetupProcessor-APPLY_UPDATE_PERMISSION_ID-bytes32
:xref-PluginSetupProcessor-APPLY_UNINSTALLATION_PERMISSION_ID-bytes32: xref:osx-contracts.adoc#PluginSetupProcessor-APPLY_UNINSTALLATION_PERMISSION_ID-bytes32
:xref-PluginSetupProcessor-states-mapping-bytes32----struct-PluginSetupProcessor-PluginState-: xref:osx-contracts.adoc#PluginSetupProcessor-states-mapping-bytes32----struct-PluginSetupProcessor-PluginState-
:xref-PluginSetupProcessor-repoRegistry-contract-PluginRepoRegistry: xref:osx-contracts.adoc#PluginSetupProcessor-repoRegistry-contract-PluginRepoRegistry
:xref-PluginSetupProcessor-InstallationPrepared-address-address-bytes32-contract-PluginRepo-struct-PluginRepo-Tag-bytes-address-struct-IPluginSetup-PreparedSetupData-: xref:osx-contracts.adoc#PluginSetupProcessor-InstallationPrepared-address-address-bytes32-contract-PluginRepo-struct-PluginRepo-Tag-bytes-address-struct-IPluginSetup-PreparedSetupData-
:xref-PluginSetupProcessor-InstallationApplied-address-address-bytes32-bytes32-: xref:osx-contracts.adoc#PluginSetupProcessor-InstallationApplied-address-address-bytes32-bytes32-
:xref-PluginSetupProcessor-UpdatePrepared-address-address-bytes32-contract-PluginRepo-struct-PluginRepo-Tag-struct-IPluginSetup-SetupPayload-struct-IPluginSetup-PreparedSetupData-bytes-: xref:osx-contracts.adoc#PluginSetupProcessor-UpdatePrepared-address-address-bytes32-contract-PluginRepo-struct-PluginRepo-Tag-struct-IPluginSetup-SetupPayload-struct-IPluginSetup-PreparedSetupData-bytes-
:xref-PluginSetupProcessor-UpdateApplied-address-address-bytes32-bytes32-: xref:osx-contracts.adoc#PluginSetupProcessor-UpdateApplied-address-address-bytes32-bytes32-
:xref-PluginSetupProcessor-UninstallationPrepared-address-address-bytes32-contract-PluginRepo-struct-PluginRepo-Tag-struct-IPluginSetup-SetupPayload-struct-PermissionLib-MultiTargetPermission---: xref:osx-contracts.adoc#PluginSetupProcessor-UninstallationPrepared-address-address-bytes32-contract-PluginRepo-struct-PluginRepo-Tag-struct-IPluginSetup-SetupPayload-struct-PermissionLib-MultiTargetPermission---
:xref-PluginSetupProcessor-UninstallationApplied-address-address-bytes32-: xref:osx-contracts.adoc#PluginSetupProcessor-UninstallationApplied-address-address-bytes32-
= OSX

This is the reference guide of the link:https://github.com/aragon/osx[osx contracts] package.

== Core

:EXECUTE_PERMISSION_ID: pass:normal[xref:#DAO-EXECUTE_PERMISSION_ID-bytes32[`++EXECUTE_PERMISSION_ID++`]]
:UPGRADE_DAO_PERMISSION_ID: pass:normal[xref:#DAO-UPGRADE_DAO_PERMISSION_ID-bytes32[`++UPGRADE_DAO_PERMISSION_ID++`]]
:SET_METADATA_PERMISSION_ID: pass:normal[xref:#DAO-SET_METADATA_PERMISSION_ID-bytes32[`++SET_METADATA_PERMISSION_ID++`]]
:SET_TRUSTED_FORWARDER_PERMISSION_ID: pass:normal[xref:#DAO-SET_TRUSTED_FORWARDER_PERMISSION_ID-bytes32[`++SET_TRUSTED_FORWARDER_PERMISSION_ID++`]]
:REGISTER_STANDARD_CALLBACK_PERMISSION_ID: pass:normal[xref:#DAO-REGISTER_STANDARD_CALLBACK_PERMISSION_ID-bytes32[`++REGISTER_STANDARD_CALLBACK_PERMISSION_ID++`]]
:VALIDATE_SIGNATURE_PERMISSION_ID: pass:normal[xref:#DAO-VALIDATE_SIGNATURE_PERMISSION_ID-bytes32[`++VALIDATE_SIGNATURE_PERMISSION_ID++`]]
:MAX_ACTIONS: pass:normal[xref:#DAO-MAX_ACTIONS-uint256[`++MAX_ACTIONS++`]]
:ReentrantCall: pass:normal[xref:#DAO-ReentrantCall--[`++ReentrantCall++`]]
:TooManyActions: pass:normal[xref:#DAO-TooManyActions--[`++TooManyActions++`]]
:ActionFailed: pass:normal[xref:#DAO-ActionFailed-uint256-[`++ActionFailed++`]]
:InsufficientGas: pass:normal[xref:#DAO-InsufficientGas--[`++InsufficientGas++`]]
:ZeroAmount: pass:normal[xref:#DAO-ZeroAmount--[`++ZeroAmount++`]]
:NativeTokenDepositAmountMismatch: pass:normal[xref:#DAO-NativeTokenDepositAmountMismatch-uint256-uint256-[`++NativeTokenDepositAmountMismatch++`]]
:ProtocolVersionUpgradeNotSupported: pass:normal[xref:#DAO-ProtocolVersionUpgradeNotSupported-uint8-3--[`++ProtocolVersionUpgradeNotSupported++`]]
:FunctionRemoved: pass:normal[xref:#DAO-FunctionRemoved--[`++FunctionRemoved++`]]
:AlreadyInitialized: pass:normal[xref:#DAO-AlreadyInitialized--[`++AlreadyInitialized++`]]
:NewURI: pass:normal[xref:#DAO-NewURI-string-[`++NewURI++`]]
:nonReentrant: pass:normal[xref:#DAO-nonReentrant--[`++nonReentrant++`]]
:onlyCallAtInitialization: pass:normal[xref:#DAO-onlyCallAtInitialization--[`++onlyCallAtInitialization++`]]
:constructor: pass:normal[xref:#DAO-constructor--[`++constructor++`]]
:initialize: pass:normal[xref:#DAO-initialize-bytes-address-address-string-[`++initialize++`]]
:initializeFrom: pass:normal[xref:#DAO-initializeFrom-uint8-3--bytes-[`++initializeFrom++`]]
:isPermissionRestrictedForAnyAddr: pass:normal[xref:#DAO-isPermissionRestrictedForAnyAddr-bytes32-[`++isPermissionRestrictedForAnyAddr++`]]
:_authorizeUpgrade: pass:normal[xref:#DAO-_authorizeUpgrade-address-[`++_authorizeUpgrade++`]]
:setTrustedForwarder: pass:normal[xref:#DAO-setTrustedForwarder-address-[`++setTrustedForwarder++`]]
:getTrustedForwarder: pass:normal[xref:#DAO-getTrustedForwarder--[`++getTrustedForwarder++`]]
:hasPermission: pass:normal[xref:#DAO-hasPermission-address-address-bytes32-bytes-[`++hasPermission++`]]
:setMetadata: pass:normal[xref:#DAO-setMetadata-bytes-[`++setMetadata++`]]
:execute: pass:normal[xref:#DAO-execute-bytes32-struct-Action---uint256-[`++execute++`]]
:deposit: pass:normal[xref:#DAO-deposit-address-uint256-string-[`++deposit++`]]
:setSignatureValidator: pass:normal[xref:#DAO-setSignatureValidator-address-[`++setSignatureValidator++`]]
:isValidSignature: pass:normal[xref:#DAO-isValidSignature-bytes32-bytes-[`++isValidSignature++`]]
:receive: pass:normal[xref:#DAO-receive--[`++receive++`]]
:fallback: pass:normal[xref:#DAO-fallback-bytes-[`++fallback++`]]
:_setMetadata: pass:normal[xref:#DAO-_setMetadata-bytes-[`++_setMetadata++`]]
:_setTrustedForwarder: pass:normal[xref:#DAO-_setTrustedForwarder-address-[`++_setTrustedForwarder++`]]
:registerStandardCallback: pass:normal[xref:#DAO-registerStandardCallback-bytes4-bytes4-bytes4-[`++registerStandardCallback++`]]
:daoURI: pass:normal[xref:#DAO-daoURI--[`++daoURI++`]]
:setDaoURI: pass:normal[xref:#DAO-setDaoURI-string-[`++setDaoURI++`]]
:_setDaoURI: pass:normal[xref:#DAO-_setDaoURI-string-[`++_setDaoURI++`]]

[.contract]
[[DAO]]
=== `++DAO++` link:https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v/src/core/dao/DAO.sol[{github-icon},role=heading-link]

Public API of the Aragon DAO framework.

[.contract-index]
.Modifiers
--
* {xref-DAO-nonReentrant--}[`++nonReentrant()++`]
* {xref-DAO-onlyCallAtInitialization--}[`++onlyCallAtInitialization()++`]

--

[.contract-index]
.Functions
--
* {xref-DAO-constructor--}[`++constructor()++`]
* {xref-DAO-initialize-bytes-address-address-string-}[`++initialize(_metadata, _initialOwner, _trustedForwarder, daoURI_)++`]
* {xref-DAO-initializeFrom-uint8-3--bytes-}[`++initializeFrom(_previousProtocolVersion, _initData)++`]
* {xref-DAO-isPermissionRestrictedForAnyAddr-bytes32-}[`++isPermissionRestrictedForAnyAddr(_permissionId)++`]
* {xref-DAO-_authorizeUpgrade-address-}[`++_authorizeUpgrade()++`]
* {xref-DAO-setTrustedForwarder-address-}[`++setTrustedForwarder(_newTrustedForwarder)++`]
* {xref-DAO-getTrustedForwarder--}[`++getTrustedForwarder()++`]
* {xref-DAO-hasPermission-address-address-bytes32-bytes-}[`++hasPermission(_where, _who, _permissionId, _data)++`]
* {xref-DAO-setMetadata-bytes-}[`++setMetadata(_metadata)++`]
* {xref-DAO-execute-bytes32-struct-Action---uint256-}[`++execute(_callId, _actions, _allowFailureMap)++`]
* {xref-DAO-deposit-address-uint256-string-}[`++deposit(_token, _amount, _reference)++`]
* {xref-DAO-setSignatureValidator-address-}[`++setSignatureValidator()++`]
* {xref-DAO-isValidSignature-bytes32-bytes-}[`++isValidSignature(_hash, _signature)++`]
* {xref-DAO-receive--}[`++receive()++`]
* {xref-DAO-fallback-bytes-}[`++fallback(_input)++`]
* {xref-DAO-_setMetadata-bytes-}[`++_setMetadata(_metadata)++`]
* {xref-DAO-_setTrustedForwarder-address-}[`++_setTrustedForwarder(_trustedForwarder)++`]
* {xref-DAO-registerStandardCallback-bytes4-bytes4-bytes4-}[`++registerStandardCallback(_interfaceId, _callbackSelector, _magicNumber)++`]
* {xref-DAO-daoURI--}[`++daoURI()++`]
* {xref-DAO-setDaoURI-string-}[`++setDaoURI(newDaoURI)++`]
* {xref-DAO-_setDaoURI-string-}[`++_setDaoURI(daoURI_)++`]
* {xref-DAO-EXECUTE_PERMISSION_ID-bytes32}[`++EXECUTE_PERMISSION_ID()++`]
* {xref-DAO-UPGRADE_DAO_PERMISSION_ID-bytes32}[`++UPGRADE_DAO_PERMISSION_ID()++`]
* {xref-DAO-SET_METADATA_PERMISSION_ID-bytes32}[`++SET_METADATA_PERMISSION_ID()++`]
* {xref-DAO-SET_TRUSTED_FORWARDER_PERMISSION_ID-bytes32}[`++SET_TRUSTED_FORWARDER_PERMISSION_ID()++`]
* {xref-DAO-REGISTER_STANDARD_CALLBACK_PERMISSION_ID-bytes32}[`++REGISTER_STANDARD_CALLBACK_PERMISSION_ID()++`]
* {xref-DAO-VALIDATE_SIGNATURE_PERMISSION_ID-bytes32}[`++VALIDATE_SIGNATURE_PERMISSION_ID()++`]

[.contract-subindex-inherited]
.CallbackHandler
* {xref-CallbackHandler-_handleCallback-bytes4-bytes-}[`++_handleCallback(_callbackSelector, _data)++`]
* {xref-CallbackHandler-_registerCallback-bytes4-bytes4-}[`++_registerCallback(_callbackSelector, _magicNumber)++`]

[.contract-subindex-inherited]
.PermissionManager
* {xref-PermissionManager-__PermissionManager_init-address-}[`++__PermissionManager_init(_initialOwner)++`]
* {xref-PermissionManager-grant-address-address-bytes32-}[`++grant(_where, _who, _permissionId)++`]
* {xref-PermissionManager-grantWithCondition-address-address-bytes32-contract-IPermissionCondition-}[`++grantWithCondition(_where, _who, _permissionId, _condition)++`]
* {xref-PermissionManager-revoke-address-address-bytes32-}[`++revoke(_where, _who, _permissionId)++`]
* {xref-PermissionManager-applySingleTargetPermissions-address-struct-PermissionLib-SingleTargetPermission---}[`++applySingleTargetPermissions(_where, items)++`]
* {xref-PermissionManager-applyMultiTargetPermissions-struct-PermissionLib-MultiTargetPermission---}[`++applyMultiTargetPermissions(_items)++`]
* {xref-PermissionManager-isGranted-address-address-bytes32-bytes-}[`++isGranted(_where, _who, _permissionId, _data)++`]
* {xref-PermissionManager-_checkCondition-address-address-address-bytes32-bytes-}[`++_checkCondition(_condition, _where, _who, _permissionId, _data)++`]
* {xref-PermissionManager-_initializePermissionManager-address-}[`++_initializePermissionManager(_initialOwner)++`]
* {xref-PermissionManager-_grant-address-address-bytes32-}[`++_grant(_where, _who, _permissionId)++`]
* {xref-PermissionManager-_grantWithCondition-address-address-bytes32-contract-IPermissionCondition-}[`++_grantWithCondition(_where, _who, _permissionId, _condition)++`]
* {xref-PermissionManager-_revoke-address-address-bytes32-}[`++_revoke(_where, _who, _permissionId)++`]
* {xref-PermissionManager-_auth-bytes32-}[`++_auth(_permissionId)++`]
* {xref-PermissionManager-permissionHash-address-address-bytes32-}[`++permissionHash(_where, _who, _permissionId)++`]
* {xref-PermissionManager-ROOT_PERMISSION_ID-bytes32}[`++ROOT_PERMISSION_ID()++`]

[.contract-subindex-inherited]
.ProtocolVersion
* link:https://github.com/aragon/osx-commons/tree/main/contracts/src/utils/versioning/ProtocolVersion.sol[protocolVersion]

[.contract-subindex-inherited]
.IProtocolVersion

[.contract-subindex-inherited]
.UUPSUpgradeable

[.contract-subindex-inherited]
.ERC1967UpgradeUpgradeable

[.contract-subindex-inherited]
.IERC1967Upgradeable

[.contract-subindex-inherited]
.IERC1822ProxiableUpgradeable

[.contract-subindex-inherited]
.IExecutor

[.contract-subindex-inherited]
.IDAO

[.contract-subindex-inherited]
.ERC165StorageUpgradeable

[.contract-subindex-inherited]
.ERC165Upgradeable

[.contract-subindex-inherited]
.IERC165Upgradeable

[.contract-subindex-inherited]
.IERC1271

[.contract-subindex-inherited]
.Initializable

[.contract-subindex-inherited]
.IEIP4824

--

[.contract-index]
.Events
--
* {xref-DAO-NewURI-string-}[`++NewURI(daoURI)++`]

[.contract-subindex-inherited]
.CallbackHandler
* {xref-CallbackHandler-CallbackReceived-address-bytes4-bytes-}[`++CallbackReceived(sender, sig, data)++`]

[.contract-subindex-inherited]
.PermissionManager
* {xref-PermissionManager-Granted-bytes32-address-address-address-address-}[`++Granted(permissionId, here, where, who, condition)++`]
* {xref-PermissionManager-Revoked-bytes32-address-address-address-}[`++Revoked(permissionId, here, where, who)++`]

[.contract-subindex-inherited]
.ProtocolVersion

[.contract-subindex-inherited]
.IProtocolVersion

[.contract-subindex-inherited]
.UUPSUpgradeable

[.contract-subindex-inherited]
.ERC1967UpgradeUpgradeable

[.contract-subindex-inherited]
.IERC1967Upgradeable

[.contract-subindex-inherited]
.IERC1822ProxiableUpgradeable

[.contract-subindex-inherited]
.IExecutor
* link:https://github.com/aragon/osx-commons/tree/main/contracts/src/executors/IExecutor.sol[Executed]

[.contract-subindex-inherited]
.IDAO
* link:https://github.com/aragon/osx-commons/tree/main/contracts/src/dao/IDAO.sol[MetadataSet]
* link:https://github.com/aragon/osx-commons/tree/main/contracts/src/dao/IDAO.sol[StandardCallbackRegistered]
* link:https://github.com/aragon/osx-commons/tree/main/contracts/src/dao/IDAO.sol[Deposited]
* link:https://github.com/aragon/osx-commons/tree/main/contracts/src/dao/IDAO.sol[NativeTokenDeposited]
* link:https://github.com/aragon/osx-commons/tree/main/contracts/src/dao/IDAO.sol[TrustedForwarderSet]

[.contract-subindex-inherited]
.ERC165StorageUpgradeable

[.contract-subindex-inherited]
.ERC165Upgradeable

[.contract-subindex-inherited]
.IERC165Upgradeable

[.contract-subindex-inherited]
.IERC1271

[.contract-subindex-inherited]
.Initializable

[.contract-subindex-inherited]
.IEIP4824

--

[.contract-index]
.Errors
--

[.contract-subindex-inherited]
.CallbackHandler

[.contract-subindex-inherited]
.PermissionManager

[.contract-subindex-inherited]
.ProtocolVersion

[.contract-subindex-inherited]
.IProtocolVersion

[.contract-subindex-inherited]
.UUPSUpgradeable

[.contract-subindex-inherited]
.ERC1967UpgradeUpgradeable

[.contract-subindex-inherited]
.IERC1967Upgradeable

[.contract-subindex-inherited]
.IERC1822ProxiableUpgradeable

[.contract-subindex-inherited]
.IExecutor

[.contract-subindex-inherited]
.IDAO

[.contract-subindex-inherited]
.ERC165StorageUpgradeable

[.contract-subindex-inherited]
.ERC165Upgradeable

[.contract-subindex-inherited]
.IERC165Upgradeable

[.contract-subindex-inherited]
.IERC1271

[.contract-subindex-inherited]
.Initializable

[.contract-subindex-inherited]
.IEIP4824

--

[.contract-index]
.Internal Variables
--

[.contract-subindex-inherited]
.CallbackHandler

[.contract-subindex-inherited]
.PermissionManager

[.contract-subindex-inherited]
.ProtocolVersion

[.contract-subindex-inherited]
.IProtocolVersion

[.contract-subindex-inherited]
.UUPSUpgradeable

[.contract-subindex-inherited]
.ERC1967UpgradeUpgradeable

[.contract-subindex-inherited]
.IERC1967Upgradeable

[.contract-subindex-inherited]
.IERC1822ProxiableUpgradeable

[.contract-subindex-inherited]
.IExecutor

[.contract-subindex-inherited]
.IDAO

[.contract-subindex-inherited]
.ERC165StorageUpgradeable

[.contract-subindex-inherited]
.ERC165Upgradeable

[.contract-subindex-inherited]
.IERC165Upgradeable

[.contract-subindex-inherited]
.IERC1271

[.contract-subindex-inherited]
.Initializable

[.contract-subindex-inherited]
.IEIP4824

--

[.contract-item]
[[DAO-nonReentrant--]]
==== `[.contract-item-name]#++nonReentrant++#++()++` [.item-kind]#modifier#

A modifier to protect a function from calling itself, directly or indirectly (reentrancy).

Currently, this modifier is only applied to the &#x60;execute()&#x60; function. If this is used multiple times, private &#x60;_beforeNonReentrant()&#x60; and &#x60;_afterNonReentrant()&#x60; functions should be created to prevent code duplication.

[.contract-item]
[[DAO-onlyCallAtInitialization--]]
==== `[.contract-item-name]#++onlyCallAtInitialization++#++()++` [.item-kind]#modifier#

This ensures that the initialize function cannot be called during the upgrade process.

[.contract-item]
[[DAO-constructor--]]
==== `[.contract-item-name]#++constructor++#++()++` [.item-kind]#public#

Disables the initializers on the implementation contract to prevent it from being left uninitialized.

[.contract-item]
[[DAO-initialize-bytes-address-address-string-]]
==== `[.contract-item-name]#++initialize++#++(bytes _metadata, address _initialOwner, address _trustedForwarder, string daoURI_)++` [.item-kind]#external#

Initializes the DAO by
- setting the reentrancy status variable to &#x60;_NOT_ENTERED&#x60;
- registering the [ERC-165](https://eips.ethereum.org/EIPS/eip-165) interface ID
- setting the trusted forwarder for meta transactions
- giving the &#x60;ROOT_PERMISSION_ID&#x60; permission to the initial owner (that should be revoked and transferred to the DAO after setup).

This method is required to support [ERC-1822](https://eips.ethereum.org/EIPS/eip-1822).

[.contract-item]
[[DAO-initializeFrom-uint8-3--bytes-]]
==== `[.contract-item-name]#++initializeFrom++#++(uint8[3] _previousProtocolVersion, bytes _initData)++` [.item-kind]#external#

Initializes the DAO after an upgrade from a previous protocol version.

[.contract-item]
[[DAO-isPermissionRestrictedForAnyAddr-bytes32-]]
==== `[.contract-item-name]#++isPermissionRestrictedForAnyAddr++#++(bytes32 _permissionId) → bool++` [.item-kind]#internal#

Decides if the granting permissionId is restricted when &#x60;_who &#x3D;&#x3D; ANY_ADDR&#x60; or &#x60;_where &#x3D;&#x3D; ANY_ADDR&#x60;.

By default, every permission is unrestricted and it is the derived contract&#x27;s responsibility to override it. Note, that the &#x60;ROOT_PERMISSION_ID&#x60; is included and not required to be set it again.

[.contract-item]
[[DAO-_authorizeUpgrade-address-]]
==== `[.contract-item-name]#++_authorizeUpgrade++#++(address)++` [.item-kind]#internal#

Internal method authorizing the upgrade of the contract via the [upgradeability mechanism for UUPS proxies](https://docs.openzeppelin.com/contracts/4.x/api/proxy#UUPSUpgradeable) (see [ERC-1822](https://eips.ethereum.org/EIPS/eip-1822)).

The caller must have the &#x60;UPGRADE_DAO_PERMISSION_ID&#x60; permission.

[.contract-item]
[[DAO-setTrustedForwarder-address-]]
==== `[.contract-item-name]#++setTrustedForwarder++#++(address _newTrustedForwarder)++` [.item-kind]#external#

Setter for the trusted forwarder verifying the meta transaction.

[.contract-item]
[[DAO-getTrustedForwarder--]]
==== `[.contract-item-name]#++getTrustedForwarder++#++() → address++` [.item-kind]#external#

Getter for the trusted forwarder verifying the meta transaction.

[.contract-item]
[[DAO-hasPermission-address-address-bytes32-bytes-]]
==== `[.contract-item-name]#++hasPermission++#++(address _where, address _who, bytes32 _permissionId, bytes _data) → bool++` [.item-kind]#external#

Checks if an address has permission on a contract via a permission identifier and considers if &#x60;ANY_ADDRESS&#x60; was used in the granting process.

[.contract-item]
[[DAO-setMetadata-bytes-]]
==== `[.contract-item-name]#++setMetadata++#++(bytes _metadata)++` [.item-kind]#external#

Updates the DAO metadata (e.g., an IPFS hash).

[.contract-item]
[[DAO-execute-bytes32-struct-Action---uint256-]]
==== `[.contract-item-name]#++execute++#++(bytes32 _callId, struct Action[] _actions, uint256 _allowFailureMap) → bytes[] execResults, uint256 failureMap++` [.item-kind]#external#

Executes a list of actions. If a zero allow-failure map is provided, a failing action reverts the entire execution. If a non-zero allow-failure map is provided, allowed actions can fail without the entire call being reverted.

[.contract-item]
[[DAO-deposit-address-uint256-string-]]
==== `[.contract-item-name]#++deposit++#++(address _token, uint256 _amount, string _reference)++` [.item-kind]#external#

Deposits (native) tokens to the DAO contract with a reference string.

[.contract-item]
[[DAO-setSignatureValidator-address-]]
==== `[.contract-item-name]#++setSignatureValidator++#++(address)++` [.item-kind]#external#

Removed function being left here to not corrupt the IDAO interface ID. Any call will revert.

Introduced in v1.0.0. Removed in v1.4.0.

[.contract-item]
[[DAO-isValidSignature-bytes32-bytes-]]
==== `[.contract-item-name]#++isValidSignature++#++(bytes32 _hash, bytes _signature) → bytes4++` [.item-kind]#external#

Checks whether a signature is valid for a provided hash according to [ERC-1271](https://eips.ethereum.org/EIPS/eip-1271).

Relays the validation logic determining who is allowed to sign on behalf of the DAO to its permission manager.
Caller specific bypassing can be set direct granting (i.e., &#x60;grant({_where: dao, _who: specificErc1271Caller, _permissionId: VALIDATE_SIGNATURE_PERMISSION_ID})&#x60;).
Caller specific signature validation logic can be set by granting with a &#x60;PermissionCondition&#x60; (i.e., &#x60;grantWithCondition({_where: dao, _who: specificErc1271Caller, _permissionId: VALIDATE_SIGNATURE_PERMISSION_ID, _condition: yourConditionImplementation})&#x60;)
Generic signature validation logic can be set for all calling contracts by granting with a &#x60;PermissionCondition&#x60; to &#x60;PermissionManager.ANY_ADDR()&#x60; (i.e., &#x60;grantWithCondition({_where: dao, _who: PermissionManager.ANY_ADDR(), _permissionId: VALIDATE_SIGNATURE_PERMISSION_ID, _condition: yourConditionImplementation})&#x60;).

[.contract-item]
[[DAO-receive--]]
==== `[.contract-item-name]#++receive++#++()++` [.item-kind]#external#

Emits the &#x60;NativeTokenDeposited&#x60; event to track native token deposits that weren&#x27;t made via the deposit method.

This call is bound by the gas limitations for &#x60;send&#x60;/&#x60;transfer&#x60; calls introduced by [ERC-2929](https://eips.ethereum.org/EIPS/eip-2929).
Gas cost increases in future hard forks might break this function. As an alternative, [ERC-2930](https://eips.ethereum.org/EIPS/eip-2930)-type transactions using access lists can be employed.

[.contract-item]
[[DAO-fallback-bytes-]]
==== `[.contract-item-name]#++fallback++#++(bytes _input) → bytes++` [.item-kind]#external#

Fallback to handle future versions of the [ERC-165](https://eips.ethereum.org/EIPS/eip-165) standard.

[.contract-item]
[[DAO-_setMetadata-bytes-]]
==== `[.contract-item-name]#++_setMetadata++#++(bytes _metadata)++` [.item-kind]#internal#

Emits the MetadataSet event if new metadata is set.

[.contract-item]
[[DAO-_setTrustedForwarder-address-]]
==== `[.contract-item-name]#++_setTrustedForwarder++#++(address _trustedForwarder)++` [.item-kind]#internal#

Sets the trusted forwarder on the DAO and emits the associated event.

[.contract-item]
[[DAO-registerStandardCallback-bytes4-bytes4-bytes4-]]
==== `[.contract-item-name]#++registerStandardCallback++#++(bytes4 _interfaceId, bytes4 _callbackSelector, bytes4 _magicNumber)++` [.item-kind]#external#

Registers an ERC standard having a callback by registering its [ERC-165](https://eips.ethereum.org/EIPS/eip-165) interface ID and callback function signature.

[.contract-item]
[[DAO-daoURI--]]
==== `[.contract-item-name]#++daoURI++#++() → string++` [.item-kind]#external#

A distinct Uniform Resource Identifier (URI) pointing to a JSON object following the &quot;EIP-4824 DAO JSON-LD Schema&quot;. This JSON file splits into four URIs: membersURI, proposalsURI, activityLogURI, and governanceURI. The membersURI should point to a JSON file that conforms to the &quot;EIP-4824 Members JSON-LD Schema&quot;. The proposalsURI should point to a JSON file that conforms to the &quot;EIP-4824 Proposals JSON-LD Schema&quot;. The activityLogURI should point to a JSON file that conforms to the &quot;EIP-4824 Activity Log JSON-LD Schema&quot;. The governanceURI should point to a flatfile, normatively a .md file. Each of the JSON files named above can be statically hosted or dynamically-generated.

[.contract-item]
[[DAO-setDaoURI-string-]]
==== `[.contract-item-name]#++setDaoURI++#++(string newDaoURI)++` [.item-kind]#external#

Updates the set DAO URI to a new value.

[.contract-item]
[[DAO-_setDaoURI-string-]]
==== `[.contract-item-name]#++_setDaoURI++#++(string daoURI_)++` [.item-kind]#internal#

Sets the new [ERC-4824](https://eips.ethereum.org/EIPS/eip-4824) DAO URI and emits the associated event.

[.contract-item]
[[DAO-EXECUTE_PERMISSION_ID-bytes32]]
==== `[.contract-item-name]#++EXECUTE_PERMISSION_ID++#++() → bytes32++` [.item-kind]#public#

The ID of the permission required to call the &#x60;execute&#x60; function.

[.contract-item]
[[DAO-UPGRADE_DAO_PERMISSION_ID-bytes32]]
==== `[.contract-item-name]#++UPGRADE_DAO_PERMISSION_ID++#++() → bytes32++` [.item-kind]#public#

The ID of the permission required to call the &#x60;_authorizeUpgrade&#x60; function.

[.contract-item]
[[DAO-SET_METADATA_PERMISSION_ID-bytes32]]
==== `[.contract-item-name]#++SET_METADATA_PERMISSION_ID++#++() → bytes32++` [.item-kind]#public#

The ID of the permission required to call the &#x60;setMetadata&#x60; function.

[.contract-item]
[[DAO-SET_TRUSTED_FORWARDER_PERMISSION_ID-bytes32]]
==== `[.contract-item-name]#++SET_TRUSTED_FORWARDER_PERMISSION_ID++#++() → bytes32++` [.item-kind]#public#

The ID of the permission required to call the &#x60;setTrustedForwarder&#x60; function.

[.contract-item]
[[DAO-REGISTER_STANDARD_CALLBACK_PERMISSION_ID-bytes32]]
==== `[.contract-item-name]#++REGISTER_STANDARD_CALLBACK_PERMISSION_ID++#++() → bytes32++` [.item-kind]#public#

The ID of the permission required to call the &#x60;registerStandardCallback&#x60; function.

[.contract-item]
[[DAO-VALIDATE_SIGNATURE_PERMISSION_ID-bytes32]]
==== `[.contract-item-name]#++VALIDATE_SIGNATURE_PERMISSION_ID++#++() → bytes32++` [.item-kind]#public#

The ID of the permission required to validate [ERC-1271](https://eips.ethereum.org/EIPS/eip-1271) signatures.

[.contract-item]
[[DAO-NewURI-string-]]
==== `[.contract-item-name]#++NewURI++#++(string daoURI)++` [.item-kind]#event#

Emitted when a new DAO URI is set.

[.contract-item]
[[DAO-ReentrantCall--]]
==== `[.contract-item-name]#++ReentrantCall++#++()++` [.item-kind]#error#

Thrown if a call is reentrant.

[.contract-item]
[[DAO-TooManyActions--]]
==== `[.contract-item-name]#++TooManyActions++#++()++` [.item-kind]#error#

Thrown if the action array length is larger than &#x60;MAX_ACTIONS&#x60;.

[.contract-item]
[[DAO-ActionFailed-uint256-]]
==== `[.contract-item-name]#++ActionFailed++#++(uint256 index)++` [.item-kind]#error#

Thrown if action execution has failed.

[.contract-item]
[[DAO-InsufficientGas--]]
==== `[.contract-item-name]#++InsufficientGas++#++()++` [.item-kind]#error#

Thrown if an action has insufficient gas left.

[.contract-item]
[[DAO-ZeroAmount--]]
==== `[.contract-item-name]#++ZeroAmount++#++()++` [.item-kind]#error#

Thrown if the deposit amount is zero.

[.contract-item]
[[DAO-NativeTokenDepositAmountMismatch-uint256-uint256-]]
==== `[.contract-item-name]#++NativeTokenDepositAmountMismatch++#++(uint256 expected, uint256 actual)++` [.item-kind]#error#

Thrown if there is a mismatch between the expected and actually deposited amount of native tokens.

[.contract-item]
[[DAO-ProtocolVersionUpgradeNotSupported-uint8-3--]]
==== `[.contract-item-name]#++ProtocolVersionUpgradeNotSupported++#++(uint8[3] protocolVersion)++` [.item-kind]#error#

Thrown if an upgrade is not supported from a specific protocol version .

[.contract-item]
[[DAO-FunctionRemoved--]]
==== `[.contract-item-name]#++FunctionRemoved++#++()++` [.item-kind]#error#

Thrown when a function is removed but left to not corrupt the interface ID.

[.contract-item]
[[DAO-AlreadyInitialized--]]
==== `[.contract-item-name]#++AlreadyInitialized++#++()++` [.item-kind]#error#

Thrown when initialize is called after it has already been executed.

[.contract-item]
[[DAO-MAX_ACTIONS-uint256]]
==== `uint256 [.contract-item-name]#++MAX_ACTIONS++#` [.item-kind]#internal constant#

The internal constant storing the maximal action array length.

:ROOT_PERMISSION_ID: pass:normal[xref:#PermissionManager-ROOT_PERMISSION_ID-bytes32[`++ROOT_PERMISSION_ID++`]]
:ANY_ADDR: pass:normal[xref:#PermissionManager-ANY_ADDR-address[`++ANY_ADDR++`]]
:UNSET_FLAG: pass:normal[xref:#PermissionManager-UNSET_FLAG-address[`++UNSET_FLAG++`]]
:ALLOW_FLAG: pass:normal[xref:#PermissionManager-ALLOW_FLAG-address[`++ALLOW_FLAG++`]]
:permissionsHashed: pass:normal[xref:#PermissionManager-permissionsHashed-mapping-bytes32----address-[`++permissionsHashed++`]]
:Unauthorized: pass:normal[xref:#PermissionManager-Unauthorized-address-address-bytes32-[`++Unauthorized++`]]
:PermissionAlreadyGrantedForDifferentCondition: pass:normal[xref:#PermissionManager-PermissionAlreadyGrantedForDifferentCondition-address-address-bytes32-address-address-[`++PermissionAlreadyGrantedForDifferentCondition++`]]
:ConditionNotAContract: pass:normal[xref:#PermissionManager-ConditionNotAContract-contract-IPermissionCondition-[`++ConditionNotAContract++`]]
:ConditionInterfaceNotSupported: pass:normal[xref:#PermissionManager-ConditionInterfaceNotSupported-contract-IPermissionCondition-[`++ConditionInterfaceNotSupported++`]]
:PermissionsForAnyAddressDisallowed: pass:normal[xref:#PermissionManager-PermissionsForAnyAddressDisallowed--[`++PermissionsForAnyAddressDisallowed++`]]
:AnyAddressDisallowedForWhoAndWhere: pass:normal[xref:#PermissionManager-AnyAddressDisallowedForWhoAndWhere--[`++AnyAddressDisallowedForWhoAndWhere++`]]
:GrantWithConditionNotSupported: pass:normal[xref:#PermissionManager-GrantWithConditionNotSupported--[`++GrantWithConditionNotSupported++`]]
:Granted: pass:normal[xref:#PermissionManager-Granted-bytes32-address-address-address-address-[`++Granted++`]]
:Revoked: pass:normal[xref:#PermissionManager-Revoked-bytes32-address-address-address-[`++Revoked++`]]
:auth: pass:normal[xref:#PermissionManager-auth-bytes32-[`++auth++`]]
:__PermissionManager_init: pass:normal[xref:#PermissionManager-__PermissionManager_init-address-[`++__PermissionManager_init++`]]
:grant: pass:normal[xref:#PermissionManager-grant-address-address-bytes32-[`++grant++`]]
:grantWithCondition: pass:normal[xref:#PermissionManager-grantWithCondition-address-address-bytes32-contract-IPermissionCondition-[`++grantWithCondition++`]]
:revoke: pass:normal[xref:#PermissionManager-revoke-address-address-bytes32-[`++revoke++`]]
:applySingleTargetPermissions: pass:normal[xref:#PermissionManager-applySingleTargetPermissions-address-struct-PermissionLib-SingleTargetPermission---[`++applySingleTargetPermissions++`]]
:applyMultiTargetPermissions: pass:normal[xref:#PermissionManager-applyMultiTargetPermissions-struct-PermissionLib-MultiTargetPermission---[`++applyMultiTargetPermissions++`]]
:isGranted: pass:normal[xref:#PermissionManager-isGranted-address-address-bytes32-bytes-[`++isGranted++`]]
:_checkCondition: pass:normal[xref:#PermissionManager-_checkCondition-address-address-address-bytes32-bytes-[`++_checkCondition++`]]
:_initializePermissionManager: pass:normal[xref:#PermissionManager-_initializePermissionManager-address-[`++_initializePermissionManager++`]]
:_grant: pass:normal[xref:#PermissionManager-_grant-address-address-bytes32-[`++_grant++`]]
:_grantWithCondition: pass:normal[xref:#PermissionManager-_grantWithCondition-address-address-bytes32-contract-IPermissionCondition-[`++_grantWithCondition++`]]
:_revoke: pass:normal[xref:#PermissionManager-_revoke-address-address-bytes32-[`++_revoke++`]]
:_auth: pass:normal[xref:#PermissionManager-_auth-bytes32-[`++_auth++`]]
:permissionHash: pass:normal[xref:#PermissionManager-permissionHash-address-address-bytes32-[`++permissionHash++`]]
:isPermissionRestrictedForAnyAddr: pass:normal[xref:#PermissionManager-isPermissionRestrictedForAnyAddr-bytes32-[`++isPermissionRestrictedForAnyAddr++`]]

[.contract]
[[PermissionManager]]
=== `++PermissionManager++` link:https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v/src/core/permission/PermissionManager.sol[{github-icon},role=heading-link]

[.contract-index]
.Modifiers
--
* {xref-PermissionManager-auth-bytes32-}[`++auth(_permissionId)++`]

--

[.contract-index]
.Functions
--
* {xref-PermissionManager-__PermissionManager_init-address-}[`++__PermissionManager_init(_initialOwner)++`]
* {xref-PermissionManager-grant-address-address-bytes32-}[`++grant(_where, _who, _permissionId)++`]
* {xref-PermissionManager-grantWithCondition-address-address-bytes32-contract-IPermissionCondition-}[`++grantWithCondition(_where, _who, _permissionId, _condition)++`]
* {xref-PermissionManager-revoke-address-address-bytes32-}[`++revoke(_where, _who, _permissionId)++`]
* {xref-PermissionManager-applySingleTargetPermissions-address-struct-PermissionLib-SingleTargetPermission---}[`++applySingleTargetPermissions(_where, items)++`]
* {xref-PermissionManager-applyMultiTargetPermissions-struct-PermissionLib-MultiTargetPermission---}[`++applyMultiTargetPermissions(_items)++`]
* {xref-PermissionManager-isGranted-address-address-bytes32-bytes-}[`++isGranted(_where, _who, _permissionId, _data)++`]
* {xref-PermissionManager-_checkCondition-address-address-address-bytes32-bytes-}[`++_checkCondition(_condition, _where, _who, _permissionId, _data)++`]
* {xref-PermissionManager-_initializePermissionManager-address-}[`++_initializePermissionManager(_initialOwner)++`]
* {xref-PermissionManager-_grant-address-address-bytes32-}[`++_grant(_where, _who, _permissionId)++`]
* {xref-PermissionManager-_grantWithCondition-address-address-bytes32-contract-IPermissionCondition-}[`++_grantWithCondition(_where, _who, _permissionId, _condition)++`]
* {xref-PermissionManager-_revoke-address-address-bytes32-}[`++_revoke(_where, _who, _permissionId)++`]
* {xref-PermissionManager-_auth-bytes32-}[`++_auth(_permissionId)++`]
* {xref-PermissionManager-permissionHash-address-address-bytes32-}[`++permissionHash(_where, _who, _permissionId)++`]
* {xref-PermissionManager-isPermissionRestrictedForAnyAddr-bytes32-}[`++isPermissionRestrictedForAnyAddr(_permissionId)++`]
* {xref-PermissionManager-ROOT_PERMISSION_ID-bytes32}[`++ROOT_PERMISSION_ID()++`]

[.contract-subindex-inherited]
.Initializable

--

[.contract-index]
.Events
--
* {xref-PermissionManager-Granted-bytes32-address-address-address-address-}[`++Granted(permissionId, here, where, who, condition)++`]
* {xref-PermissionManager-Revoked-bytes32-address-address-address-}[`++Revoked(permissionId, here, where, who)++`]

[.contract-subindex-inherited]
.Initializable

--

[.contract-index]
.Errors
--

[.contract-subindex-inherited]
.Initializable

--

[.contract-index]
.Internal Variables
--

[.contract-subindex-inherited]
.Initializable

--

[.contract-item]
[[PermissionManager-auth-bytes32-]]
==== `[.contract-item-name]#++auth++#++(bytes32 _permissionId)++` [.item-kind]#modifier#

A modifier to make functions on inheriting contracts authorized. Permissions to call the function are checked through this permission manager.

[.contract-item]
[[PermissionManager-__PermissionManager_init-address-]]
==== `[.contract-item-name]#++__PermissionManager_init++#++(address _initialOwner)++` [.item-kind]#internal#

Initialization method to set the initial owner of the permission manager.

The initial owner is granted the &#x60;ROOT_PERMISSION_ID&#x60; permission.

[.contract-item]
[[PermissionManager-grant-address-address-bytes32-]]
==== `[.contract-item-name]#++grant++#++(address _where, address _who, bytes32 _permissionId)++` [.item-kind]#external#

Grants permission to an address to call methods in a contract guarded by an auth modifier with the specified permission identifier.

Requires the &#x60;ROOT_PERMISSION_ID&#x60; permission.
Note, that granting permissions with &#x60;_who&#x60; or &#x60;_where&#x60; equal to &#x60;ANY_ADDR&#x60; does not replace other permissions with specific &#x60;_who&#x60; and &#x60;_where&#x60; addresses that exist in parallel.

[.contract-item]
[[PermissionManager-grantWithCondition-address-address-bytes32-contract-IPermissionCondition-]]
==== `[.contract-item-name]#++grantWithCondition++#++(address _where, address _who, bytes32 _permissionId, contract IPermissionCondition _condition)++` [.item-kind]#external#

Grants permission to an address to call methods in a target contract guarded by an auth modifier with the specified permission identifier if the referenced condition permits it.

Requires the &#x60;ROOT_PERMISSION_ID&#x60; permission
Note, that granting permissions with &#x60;_who&#x60; or &#x60;_where&#x60; equal to &#x60;ANY_ADDR&#x60; does not replace other permissions with specific &#x60;_who&#x60; and &#x60;_where&#x60; addresses that exist in parallel.

[.contract-item]
[[PermissionManager-revoke-address-address-bytes32-]]
==== `[.contract-item-name]#++revoke++#++(address _where, address _who, bytes32 _permissionId)++` [.item-kind]#external#

Revokes permission from an address to call methods in a target contract guarded by an auth modifier with the specified permission identifier.

Requires the &#x60;ROOT_PERMISSION_ID&#x60; permission.
Note, that revoking permissions with &#x60;_who&#x60; or &#x60;_where&#x60; equal to &#x60;ANY_ADDR&#x60; does not revoke other permissions with specific &#x60;_who&#x60; and &#x60;_where&#x60; addresses that exist in parallel.

[.contract-item]
[[PermissionManager-applySingleTargetPermissions-address-struct-PermissionLib-SingleTargetPermission---]]
==== `[.contract-item-name]#++applySingleTargetPermissions++#++(address _where, struct PermissionLib.SingleTargetPermission[] items)++` [.item-kind]#external#

Applies an array of permission operations on a single target contracts &#x60;_where&#x60;.

[.contract-item]
[[PermissionManager-applyMultiTargetPermissions-struct-PermissionLib-MultiTargetPermission---]]
==== `[.contract-item-name]#++applyMultiTargetPermissions++#++(struct PermissionLib.MultiTargetPermission[] _items)++` [.item-kind]#external#

Applies an array of permission operations on multiple target contracts &#x60;items[i].where&#x60;.

[.contract-item]
[[PermissionManager-isGranted-address-address-bytes32-bytes-]]
==== `[.contract-item-name]#++isGranted++#++(address _where, address _who, bytes32 _permissionId, bytes _data) → bool++` [.item-kind]#public#

Checks if the caller address has permission on the target contract via a permission identifier and relays the answer to a condition contract if this was declared during the granting process.

[.contract-item]
[[PermissionManager-_checkCondition-address-address-address-bytes32-bytes-]]
==== `[.contract-item-name]#++_checkCondition++#++(address _condition, address _where, address _who, bytes32 _permissionId, bytes _data) → bool++` [.item-kind]#internal#

Relays the question if caller address has permission on target contract via a permission identifier to a condition contract.
Checks a condition contract by doing an external call via try/catch.

If the external call fails, we return &#x60;false&#x60;.

[.contract-item]
[[PermissionManager-_initializePermissionManager-address-]]
==== `[.contract-item-name]#++_initializePermissionManager++#++(address _initialOwner)++` [.item-kind]#internal#

Grants the &#x60;ROOT_PERMISSION_ID&#x60; permission to the initial owner during initialization of the permission manager.

[.contract-item]
[[PermissionManager-_grant-address-address-bytes32-]]
==== `[.contract-item-name]#++_grant++#++(address _where, address _who, bytes32 _permissionId)++` [.item-kind]#internal#

This method is used in the external &#x60;grant&#x60; method of the permission manager.

Note, that granting permissions with &#x60;_who&#x60; or &#x60;_where&#x60; equal to &#x60;ANY_ADDR&#x60; does not replace other permissions with specific &#x60;_who&#x60; and &#x60;_where&#x60; addresses that exist in parallel.

[.contract-item]
[[PermissionManager-_grantWithCondition-address-address-bytes32-contract-IPermissionCondition-]]
==== `[.contract-item-name]#++_grantWithCondition++#++(address _where, address _who, bytes32 _permissionId, contract IPermissionCondition _condition)++` [.item-kind]#internal#

This method is used in the external &#x60;grantWithCondition&#x60; method of the permission manager.

Note, that granting permissions with &#x60;_who&#x60; or &#x60;_where&#x60; equal to &#x60;ANY_ADDR&#x60; does not replace other permissions with specific &#x60;_who&#x60; and &#x60;_where&#x60; addresses that exist in parallel.

[.contract-item]
[[PermissionManager-_revoke-address-address-bytes32-]]
==== `[.contract-item-name]#++_revoke++#++(address _where, address _who, bytes32 _permissionId)++` [.item-kind]#internal#

This method is used in the public &#x60;revoke&#x60; method of the permission manager.

Note, that revoking permissions with &#x60;_who&#x60; or &#x60;_where&#x60; equal to &#x60;ANY_ADDR&#x60; does not revoke other permissions with specific &#x60;_who&#x60; and &#x60;_where&#x60; addresses that might have been granted in parallel.

[.contract-item]
[[PermissionManager-_auth-bytes32-]]
==== `[.contract-item-name]#++_auth++#++(bytes32 _permissionId)++` [.item-kind]#internal#

A private function to be used to check permissions on the permission manager contract (&#x60;address(this)&#x60;) itself.

[.contract-item]
[[PermissionManager-permissionHash-address-address-bytes32-]]
==== `[.contract-item-name]#++permissionHash++#++(address _where, address _who, bytes32 _permissionId) → bytes32++` [.item-kind]#internal#

Generates the hash for the &#x60;permissionsHashed&#x60; mapping obtained from the word &quot;PERMISSION&quot;, the contract address, the address owning the permission, and the permission identifier.

[.contract-item]
[[PermissionManager-isPermissionRestrictedForAnyAddr-bytes32-]]
==== `[.contract-item-name]#++isPermissionRestrictedForAnyAddr++#++(bytes32 _permissionId) → bool++` [.item-kind]#internal#

Decides if the granting permissionId is restricted when &#x60;_who &#x3D;&#x3D; ANY_ADDR&#x60; or &#x60;_where &#x3D;&#x3D; ANY_ADDR&#x60;.

By default, every permission is unrestricted and it is the derived contract&#x27;s responsibility to override it. Note, that the &#x60;ROOT_PERMISSION_ID&#x60; is included and not required to be set it again.

[.contract-item]
[[PermissionManager-ROOT_PERMISSION_ID-bytes32]]
==== `[.contract-item-name]#++ROOT_PERMISSION_ID++#++() → bytes32++` [.item-kind]#public#

The ID of the permission required to call the &#x60;grant&#x60;, &#x60;grantWithCondition&#x60;, &#x60;revoke&#x60;, and &#x60;bulk&#x60; function.

[.contract-item]
[[PermissionManager-Granted-bytes32-address-address-address-address-]]
==== `[.contract-item-name]#++Granted++#++(bytes32 indexed permissionId, address indexed here, address where, address indexed who, address condition)++` [.item-kind]#event#

Emitted when a permission &#x60;permission&#x60; is granted in the context &#x60;here&#x60; to the address &#x60;_who&#x60; for the contract &#x60;_where&#x60;.

[.contract-item]
[[PermissionManager-Revoked-bytes32-address-address-address-]]
==== `[.contract-item-name]#++Revoked++#++(bytes32 indexed permissionId, address indexed here, address where, address indexed who)++` [.item-kind]#event#

Emitted when a permission &#x60;permission&#x60; is revoked in the context &#x60;here&#x60; from the address &#x60;_who&#x60; for the contract &#x60;_where&#x60;.

[.contract-item]
[[PermissionManager-Unauthorized-address-address-bytes32-]]
==== `[.contract-item-name]#++Unauthorized++#++(address where, address who, bytes32 permissionId)++` [.item-kind]#error#

Thrown if a call is unauthorized.

[.contract-item]
[[PermissionManager-PermissionAlreadyGrantedForDifferentCondition-address-address-bytes32-address-address-]]
==== `[.contract-item-name]#++PermissionAlreadyGrantedForDifferentCondition++#++(address where, address who, bytes32 permissionId, address currentCondition, address newCondition)++` [.item-kind]#error#

Thrown if a permission has been already granted with a different condition.

This makes sure that condition on the same permission can not be overwriten by a different condition.

[.contract-item]
[[PermissionManager-ConditionNotAContract-contract-IPermissionCondition-]]
==== `[.contract-item-name]#++ConditionNotAContract++#++(contract IPermissionCondition condition)++` [.item-kind]#error#

Thrown if a condition address is not a contract.

[.contract-item]
[[PermissionManager-ConditionInterfaceNotSupported-contract-IPermissionCondition-]]
==== `[.contract-item-name]#++ConditionInterfaceNotSupported++#++(contract IPermissionCondition condition)++` [.item-kind]#error#

Thrown if a condition contract does not support the &#x60;IPermissionCondition&#x60; interface.

[.contract-item]
[[PermissionManager-PermissionsForAnyAddressDisallowed--]]
==== `[.contract-item-name]#++PermissionsForAnyAddressDisallowed++#++()++` [.item-kind]#error#

Thrown for &#x60;ROOT_PERMISSION_ID&#x60; or &#x60;EXECUTE_PERMISSION_ID&#x60; permission grants where &#x60;who&#x60; or &#x60;where&#x60; is &#x60;ANY_ADDR&#x60;.

[.contract-item]
[[PermissionManager-AnyAddressDisallowedForWhoAndWhere--]]
==== `[.contract-item-name]#++AnyAddressDisallowedForWhoAndWhere++#++()++` [.item-kind]#error#

Thrown for permission grants where &#x60;who&#x60; and &#x60;where&#x60; are both &#x60;ANY_ADDR&#x60;.

[.contract-item]
[[PermissionManager-GrantWithConditionNotSupported--]]
==== `[.contract-item-name]#++GrantWithConditionNotSupported++#++()++` [.item-kind]#error#

Thrown if &#x60;Operation.GrantWithCondition&#x60; is requested as an operation but the method does not support it.

[.contract-item]
[[PermissionManager-ANY_ADDR-address]]
==== `address [.contract-item-name]#++ANY_ADDR++#` [.item-kind]#internal constant#

A special address encoding permissions that are valid for any address &#x60;who&#x60; or &#x60;where&#x60;.

[.contract-item]
[[PermissionManager-UNSET_FLAG-address]]
==== `address [.contract-item-name]#++UNSET_FLAG++#` [.item-kind]#internal constant#

A special address encoding if a permissions is not set and therefore not allowed.

[.contract-item]
[[PermissionManager-ALLOW_FLAG-address]]
==== `address [.contract-item-name]#++ALLOW_FLAG++#` [.item-kind]#internal constant#

A special address encoding if a permission is allowed.

[.contract-item]
[[PermissionManager-permissionsHashed-mapping-bytes32----address-]]
==== `mapping(bytes32 &#x3D;&gt; address) [.contract-item-name]#++permissionsHashed++#` [.item-kind]#internal#

A mapping storing permissions as hashes (i.e., &#x60;permissionHash(where, who, permissionId)&#x60;) and their status encoded by an address (unset, allowed, or redirecting to a &#x60;PermissionCondition&#x60;).

:callbackMagicNumbers: pass:normal[xref:#CallbackHandler-callbackMagicNumbers-mapping-bytes4----bytes4-[`++callbackMagicNumbers++`]]
:UNREGISTERED_CALLBACK: pass:normal[xref:#CallbackHandler-UNREGISTERED_CALLBACK-bytes4[`++UNREGISTERED_CALLBACK++`]]
:UnknownCallback: pass:normal[xref:#CallbackHandler-UnknownCallback-bytes4-bytes4-[`++UnknownCallback++`]]
:CallbackReceived: pass:normal[xref:#CallbackHandler-CallbackReceived-address-bytes4-bytes-[`++CallbackReceived++`]]
:_handleCallback: pass:normal[xref:#CallbackHandler-_handleCallback-bytes4-bytes-[`++_handleCallback++`]]
:_registerCallback: pass:normal[xref:#CallbackHandler-_registerCallback-bytes4-bytes4-[`++_registerCallback++`]]

[.contract]
[[CallbackHandler]]
=== `++CallbackHandler++` link:https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v/src/core/utils/CallbackHandler.sol[{github-icon},role=heading-link]

This callback handling functionality is intended to be used by executor contracts (i.e., `DAO.sol`).

[.contract-index]
.Functions
--
* {xref-CallbackHandler-_handleCallback-bytes4-bytes-}[`++_handleCallback(_callbackSelector, _data)++`]
* {xref-CallbackHandler-_registerCallback-bytes4-bytes4-}[`++_registerCallback(_callbackSelector, _magicNumber)++`]

--

[.contract-index]
.Events
--
* {xref-CallbackHandler-CallbackReceived-address-bytes4-bytes-}[`++CallbackReceived(sender, sig, data)++`]

--

[.contract-index]
.Errors
--

--

[.contract-index]
.Internal Variables
--

--

[.contract-item]
[[CallbackHandler-_handleCallback-bytes4-bytes-]]
==== `[.contract-item-name]#++_handleCallback++#++(bytes4 _callbackSelector, bytes _data) → bytes4++` [.item-kind]#internal#

Handles callbacks to adaptively support ERC standards.

This function is supposed to be called via &#x60;_handleCallback(msg.sig, msg.data)&#x60; in the &#x60;fallback()&#x60; function of the inheriting contract.

[.contract-item]
[[CallbackHandler-_registerCallback-bytes4-bytes4-]]
==== `[.contract-item-name]#++_registerCallback++#++(bytes4 _callbackSelector, bytes4 _magicNumber)++` [.item-kind]#internal#

Registers a magic number for a callback function selector.

[.contract-item]
[[CallbackHandler-CallbackReceived-address-bytes4-bytes-]]
==== `[.contract-item-name]#++CallbackReceived++#++(address sender, bytes4 indexed sig, bytes data)++` [.item-kind]#event#

Emitted when &#x60;_handleCallback&#x60; is called.

[.contract-item]
[[CallbackHandler-UnknownCallback-bytes4-bytes4-]]
==== `[.contract-item-name]#++UnknownCallback++#++(bytes4 callbackSelector, bytes4 magicNumber)++` [.item-kind]#error#

Thrown if the callback function is not registered.

[.contract-item]
[[CallbackHandler-callbackMagicNumbers-mapping-bytes4----bytes4-]]
==== `mapping(bytes4 &#x3D;&gt; bytes4) [.contract-item-name]#++callbackMagicNumbers++#` [.item-kind]#internal#

A mapping between callback function selectors and magic return numbers.

[.contract-item]
[[CallbackHandler-UNREGISTERED_CALLBACK-bytes4]]
==== `bytes4 [.contract-item-name]#++UNREGISTERED_CALLBACK++#` [.item-kind]#internal constant#

The magic number refering to unregistered callbacks.

== Factories

:daoBase: pass:normal[xref:#DAOFactory-daoBase-address[`++daoBase++`]]
:daoRegistry: pass:normal[xref:#DAOFactory-daoRegistry-contract-DAORegistry[`++daoRegistry++`]]
:pluginSetupProcessor: pass:normal[xref:#DAOFactory-pluginSetupProcessor-contract-PluginSetupProcessor[`++pluginSetupProcessor++`]]
:ROOT_PERMISSION_ID: pass:normal[xref:#DAOFactory-ROOT_PERMISSION_ID-bytes32[`++ROOT_PERMISSION_ID++`]]
:UPGRADE_DAO_PERMISSION_ID: pass:normal[xref:#DAOFactory-UPGRADE_DAO_PERMISSION_ID-bytes32[`++UPGRADE_DAO_PERMISSION_ID++`]]
:SET_TRUSTED_FORWARDER_PERMISSION_ID: pass:normal[xref:#DAOFactory-SET_TRUSTED_FORWARDER_PERMISSION_ID-bytes32[`++SET_TRUSTED_FORWARDER_PERMISSION_ID++`]]
:SET_METADATA_PERMISSION_ID: pass:normal[xref:#DAOFactory-SET_METADATA_PERMISSION_ID-bytes32[`++SET_METADATA_PERMISSION_ID++`]]
:REGISTER_STANDARD_CALLBACK_PERMISSION_ID: pass:normal[xref:#DAOFactory-REGISTER_STANDARD_CALLBACK_PERMISSION_ID-bytes32[`++REGISTER_STANDARD_CALLBACK_PERMISSION_ID++`]]
:EXECUTE_PERMISSION_ID: pass:normal[xref:#DAOFactory-EXECUTE_PERMISSION_ID-bytes32[`++EXECUTE_PERMISSION_ID++`]]
:APPLY_INSTALLATION_PERMISSION_ID: pass:normal[xref:#DAOFactory-APPLY_INSTALLATION_PERMISSION_ID-bytes32[`++APPLY_INSTALLATION_PERMISSION_ID++`]]
:DAOSettings: pass:normal[xref:#DAOFactory-DAOSettings[`++DAOSettings++`]]
:PluginSettings: pass:normal[xref:#DAOFactory-PluginSettings[`++PluginSettings++`]]
:InstalledPlugin: pass:normal[xref:#DAOFactory-InstalledPlugin[`++InstalledPlugin++`]]
:NoPluginProvided: pass:normal[xref:#DAOFactory-NoPluginProvided--[`++NoPluginProvided++`]]
:constructor: pass:normal[xref:#DAOFactory-constructor-contract-DAORegistry-contract-PluginSetupProcessor-[`++constructor++`]]
:supportsInterface: pass:normal[xref:#DAOFactory-supportsInterface-bytes4-[`++supportsInterface++`]]
:createDao: pass:normal[xref:#DAOFactory-createDao-struct-DAOFactory-DAOSettings-struct-DAOFactory-PluginSettings---[`++createDao++`]]
:_createDAO: pass:normal[xref:#DAOFactory-_createDAO-struct-DAOFactory-DAOSettings-[`++_createDAO++`]]
:_setDAOPermissions: pass:normal[xref:#DAOFactory-_setDAOPermissions-address-[`++_setDAOPermissions++`]]

[.contract]
[[DAOFactory]]
=== `++DAOFactory++` link:https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v/src/framework/dao/DAOFactory.sol[{github-icon},role=heading-link]

[.contract-index]
.Functions
--
* {xref-DAOFactory-constructor-contract-DAORegistry-contract-PluginSetupProcessor-}[`++constructor(_registry, _pluginSetupProcessor)++`]
* {xref-DAOFactory-supportsInterface-bytes4-}[`++supportsInterface(_interfaceId)++`]
* {xref-DAOFactory-createDao-struct-DAOFactory-DAOSettings-struct-DAOFactory-PluginSettings---}[`++createDao(_daoSettings, _pluginSettings)++`]
* {xref-DAOFactory-_createDAO-struct-DAOFactory-DAOSettings-}[`++_createDAO(_daoSettings)++`]
* {xref-DAOFactory-_setDAOPermissions-address-}[`++_setDAOPermissions(_daoAddress)++`]
* {xref-DAOFactory-daoBase-address}[`++daoBase()++`]
* {xref-DAOFactory-daoRegistry-contract-DAORegistry}[`++daoRegistry()++`]
* {xref-DAOFactory-pluginSetupProcessor-contract-PluginSetupProcessor}[`++pluginSetupProcessor()++`]

[.contract-subindex-inherited]
.ProtocolVersion
* link:https://github.com/aragon/osx-commons/tree/main/contracts/src/utils/versioning/ProtocolVersion.sol[protocolVersion]

[.contract-subindex-inherited]
.IProtocolVersion

[.contract-subindex-inherited]
.ERC165

[.contract-subindex-inherited]
.IERC165

--

[.contract-index]
.Errors
--

[.contract-subindex-inherited]
.ProtocolVersion

[.contract-subindex-inherited]
.IProtocolVersion

[.contract-subindex-inherited]
.ERC165

[.contract-subindex-inherited]
.IERC165

--

[.contract-index]
.Internal Variables
--

[.contract-subindex-inherited]
.ProtocolVersion

[.contract-subindex-inherited]
.IProtocolVersion

[.contract-subindex-inherited]
.ERC165

[.contract-subindex-inherited]
.IERC165

--

[.contract-item]
[[DAOFactory-constructor-contract-DAORegistry-contract-PluginSetupProcessor-]]
==== `[.contract-item-name]#++constructor++#++(contract DAORegistry _registry, contract PluginSetupProcessor _pluginSetupProcessor)++` [.item-kind]#public#

The constructor setting the registry and plugin setup processor and creating the base contracts for the factory.

[.contract-item]
[[DAOFactory-supportsInterface-bytes4-]]
==== `[.contract-item-name]#++supportsInterface++#++(bytes4 _interfaceId) → bool++` [.item-kind]#public#

Checks if this or the parent contract supports an interface by its ID.

[.contract-item]
[[DAOFactory-createDao-struct-DAOFactory-DAOSettings-struct-DAOFactory-PluginSettings---]]
==== `[.contract-item-name]#++createDao++#++(struct DAOFactory.DAOSettings _daoSettings, struct DAOFactory.PluginSettings[] _pluginSettings) → contract DAO createdDao, struct DAOFactory.InstalledPlugin[] installedPlugins++` [.item-kind]#external#

Creates a new DAO, registers it in the DAO registry, and optionally installs plugins via the plugin setup processor.

If &#x60;_pluginSettings&#x60; is empty, the caller is granted &#x60;EXECUTE_PERMISSION&#x60; on the DAO.

[.contract-item]
[[DAOFactory-_createDAO-struct-DAOFactory-DAOSettings-]]
==== `[.contract-item-name]#++_createDAO++#++(struct DAOFactory.DAOSettings _daoSettings) → contract DAO dao++` [.item-kind]#internal#

Deploys a new DAO &#x60;ERC1967&#x60; proxy, and initialize it with this contract as the initial owner.

[.contract-item]
[[DAOFactory-_setDAOPermissions-address-]]
==== `[.contract-item-name]#++_setDAOPermissions++#++(address _daoAddress)++` [.item-kind]#internal#

Sets the required permissions for the new DAO.

[.contract-item]
[[DAOFactory-daoBase-address]]
==== `[.contract-item-name]#++daoBase++#++() → address++` [.item-kind]#public#

The DAO base contract, to be used for creating new &#x60;DAO&#x60;s via &#x60;createERC1967Proxy&#x60; function.

[.contract-item]
[[DAOFactory-daoRegistry-contract-DAORegistry]]
==== `[.contract-item-name]#++daoRegistry++#++() → contract DAORegistry++` [.item-kind]#public#

The DAO registry listing the &#x60;DAO&#x60; contracts created via this contract.

[.contract-item]
[[DAOFactory-pluginSetupProcessor-contract-PluginSetupProcessor]]
==== `[.contract-item-name]#++pluginSetupProcessor++#++() → contract PluginSetupProcessor++` [.item-kind]#public#

The plugin setup processor for installing plugins on the newly created &#x60;DAO&#x60;s.

[.contract-item]
[[DAOFactory-NoPluginProvided--]]
==== `[.contract-item-name]#++NoPluginProvided++#++()++` [.item-kind]#error#

Thrown if &#x60;PluginSettings&#x60; array is empty, and no plugin is provided.

[.contract-item]
[[DAOFactory-ROOT_PERMISSION_ID-bytes32]]
==== `bytes32 [.contract-item-name]#++ROOT_PERMISSION_ID++#` [.item-kind]#internal#

[.contract-item]
[[DAOFactory-UPGRADE_DAO_PERMISSION_ID-bytes32]]
==== `bytes32 [.contract-item-name]#++UPGRADE_DAO_PERMISSION_ID++#` [.item-kind]#internal#

[.contract-item]
[[DAOFactory-SET_TRUSTED_FORWARDER_PERMISSION_ID-bytes32]]
==== `bytes32 [.contract-item-name]#++SET_TRUSTED_FORWARDER_PERMISSION_ID++#` [.item-kind]#internal#

[.contract-item]
[[DAOFactory-SET_METADATA_PERMISSION_ID-bytes32]]
==== `bytes32 [.contract-item-name]#++SET_METADATA_PERMISSION_ID++#` [.item-kind]#internal#

[.contract-item]
[[DAOFactory-REGISTER_STANDARD_CALLBACK_PERMISSION_ID-bytes32]]
==== `bytes32 [.contract-item-name]#++REGISTER_STANDARD_CALLBACK_PERMISSION_ID++#` [.item-kind]#internal#

[.contract-item]
[[DAOFactory-EXECUTE_PERMISSION_ID-bytes32]]
==== `bytes32 [.contract-item-name]#++EXECUTE_PERMISSION_ID++#` [.item-kind]#internal#

[.contract-item]
[[DAOFactory-APPLY_INSTALLATION_PERMISSION_ID-bytes32]]
==== `bytes32 [.contract-item-name]#++APPLY_INSTALLATION_PERMISSION_ID++#` [.item-kind]#internal#

:pluginRepoRegistry: pass:normal[xref:#PluginRepoFactory-pluginRepoRegistry-contract-PluginRepoRegistry[`++pluginRepoRegistry++`]]
:pluginRepoBase: pass:normal[xref:#PluginRepoFactory-pluginRepoBase-address[`++pluginRepoBase++`]]
:constructor: pass:normal[xref:#PluginRepoFactory-constructor-contract-PluginRepoRegistry-[`++constructor++`]]
:supportsInterface: pass:normal[xref:#PluginRepoFactory-supportsInterface-bytes4-[`++supportsInterface++`]]
:createPluginRepo: pass:normal[xref:#PluginRepoFactory-createPluginRepo-string-address-[`++createPluginRepo++`]]
:createPluginRepoWithFirstVersion: pass:normal[xref:#PluginRepoFactory-createPluginRepoWithFirstVersion-string-address-address-bytes-bytes-[`++createPluginRepoWithFirstVersion++`]]
:_setPluginRepoPermissions: pass:normal[xref:#PluginRepoFactory-_setPluginRepoPermissions-contract-PluginRepo-address-[`++_setPluginRepoPermissions++`]]
:_createPluginRepo: pass:normal[xref:#PluginRepoFactory-_createPluginRepo-string-address-[`++_createPluginRepo++`]]

[.contract]
[[PluginRepoFactory]]
=== `++PluginRepoFactory++` link:https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v/src/framework/plugin/repo/PluginRepoFactory.sol[{github-icon},role=heading-link]

[.contract-index]
.Functions
--
* {xref-PluginRepoFactory-constructor-contract-PluginRepoRegistry-}[`++constructor(_pluginRepoRegistry)++`]
* {xref-PluginRepoFactory-supportsInterface-bytes4-}[`++supportsInterface(_interfaceId)++`]
* {xref-PluginRepoFactory-createPluginRepo-string-address-}[`++createPluginRepo(_subdomain, _initialOwner)++`]
* {xref-PluginRepoFactory-createPluginRepoWithFirstVersion-string-address-address-bytes-bytes-}[`++createPluginRepoWithFirstVersion(_subdomain, _pluginSetup, _maintainer, _releaseMetadata, _buildMetadata)++`]
* {xref-PluginRepoFactory-_setPluginRepoPermissions-contract-PluginRepo-address-}[`++_setPluginRepoPermissions(pluginRepo, maintainer)++`]
* {xref-PluginRepoFactory-_createPluginRepo-string-address-}[`++_createPluginRepo(_subdomain, _initialOwner)++`]
* {xref-PluginRepoFactory-pluginRepoRegistry-contract-PluginRepoRegistry}[`++pluginRepoRegistry()++`]
* {xref-PluginRepoFactory-pluginRepoBase-address}[`++pluginRepoBase()++`]

[.contract-subindex-inherited]
.ProtocolVersion
* link:https://github.com/aragon/osx-commons/tree/main/contracts/src/utils/versioning/ProtocolVersion.sol[protocolVersion]

[.contract-subindex-inherited]
.IProtocolVersion

[.contract-subindex-inherited]
.ERC165

[.contract-subindex-inherited]
.IERC165

--

[.contract-item]
[[PluginRepoFactory-constructor-contract-PluginRepoRegistry-]]
==== `[.contract-item-name]#++constructor++#++(contract PluginRepoRegistry _pluginRepoRegistry)++` [.item-kind]#public#

Initializes the addresses of the Aragon plugin registry and &#x60;PluginRepo&#x60; base contract to proxy to.

[.contract-item]
[[PluginRepoFactory-supportsInterface-bytes4-]]
==== `[.contract-item-name]#++supportsInterface++#++(bytes4 _interfaceId) → bool++` [.item-kind]#public#

Checks if this or the parent contract supports an interface by its ID.

[.contract-item]
[[PluginRepoFactory-createPluginRepo-string-address-]]
==== `[.contract-item-name]#++createPluginRepo++#++(string _subdomain, address _initialOwner) → contract PluginRepo++` [.item-kind]#external#

Creates a plugin repository proxy pointing to the &#x60;pluginRepoBase&#x60; implementation and registers it in the Aragon plugin registry.

[.contract-item]
[[PluginRepoFactory-createPluginRepoWithFirstVersion-string-address-address-bytes-bytes-]]
==== `[.contract-item-name]#++createPluginRepoWithFirstVersion++#++(string _subdomain, address _pluginSetup, address _maintainer, bytes _releaseMetadata, bytes _buildMetadata) → contract PluginRepo pluginRepo++` [.item-kind]#external#

Creates and registers a &#x60;PluginRepo&#x60; with an ENS subdomain and publishes an initial version &#x60;1.1&#x60;.

After the creation of the &#x60;PluginRepo&#x60; and release of the first version by the factory, ownership is transferred to the &#x60;_maintainer&#x60; address.

[.contract-item]
[[PluginRepoFactory-_setPluginRepoPermissions-contract-PluginRepo-address-]]
==== `[.contract-item-name]#++_setPluginRepoPermissions++#++(contract PluginRepo pluginRepo, address maintainer)++` [.item-kind]#internal#

Set the final permissions for the published plugin repository maintainer. All permissions are revoked from the plugin factory and granted to the specified plugin maintainer.

The plugin maintainer is granted the &#x60;MAINTAINER_PERMISSION_ID&#x60;, &#x60;UPGRADE_REPO_PERMISSION_ID&#x60;, and &#x60;ROOT_PERMISSION_ID&#x60;.

[.contract-item]
[[PluginRepoFactory-_createPluginRepo-string-address-]]
==== `[.contract-item-name]#++_createPluginRepo++#++(string _subdomain, address _initialOwner) → contract PluginRepo pluginRepo++` [.item-kind]#internal#

Internal method creating a &#x60;PluginRepo&#x60; via the [ERC-1967](https://eips.ethereum.org/EIPS/eip-1967) proxy pattern from the provided base contract and registering it in the Aragon plugin registry.

Passing an empty &#x60;_subdomain&#x60; will cause the transaction to revert.

[.contract-item]
[[PluginRepoFactory-pluginRepoRegistry-contract-PluginRepoRegistry]]
==== `[.contract-item-name]#++pluginRepoRegistry++#++() → contract PluginRepoRegistry++` [.item-kind]#public#

The Aragon plugin registry contract.

[.contract-item]
[[PluginRepoFactory-pluginRepoBase-address]]
==== `[.contract-item-name]#++pluginRepoBase++#++() → address++` [.item-kind]#public#

The address of the &#x60;PluginRepo&#x60; base contract to proxy to..

== Registries

:REGISTER_DAO_PERMISSION_ID: pass:normal[xref:#DAORegistry-REGISTER_DAO_PERMISSION_ID-bytes32[`++REGISTER_DAO_PERMISSION_ID++`]]
:subdomainRegistrar: pass:normal[xref:#DAORegistry-subdomainRegistrar-contract-ENSSubdomainRegistrar[`++subdomainRegistrar++`]]
:InvalidDaoSubdomain: pass:normal[xref:#DAORegistry-InvalidDaoSubdomain-string-[`++InvalidDaoSubdomain++`]]
:DAORegistered: pass:normal[xref:#DAORegistry-DAORegistered-address-address-string-[`++DAORegistered++`]]
:constructor: pass:normal[xref:#DAORegistry-constructor--[`++constructor++`]]
:initialize: pass:normal[xref:#DAORegistry-initialize-contract-IDAO-contract-ENSSubdomainRegistrar-[`++initialize++`]]
:register: pass:normal[xref:#DAORegistry-register-contract-IDAO-address-string-[`++register++`]]

[.contract]
[[DAORegistry]]
=== `++DAORegistry++` link:https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v/src/framework/dao/DAORegistry.sol[{github-icon},role=heading-link]

[.contract-index]
.Functions
--
* {xref-DAORegistry-constructor--}[`++constructor()++`]
* {xref-DAORegistry-initialize-contract-IDAO-contract-ENSSubdomainRegistrar-}[`++initialize(_managingDao, _subdomainRegistrar)++`]
* {xref-DAORegistry-register-contract-IDAO-address-string-}[`++register(dao, creator, subdomain)++`]
* {xref-DAORegistry-REGISTER_DAO_PERMISSION_ID-bytes32}[`++REGISTER_DAO_PERMISSION_ID()++`]
* {xref-DAORegistry-subdomainRegistrar-contract-ENSSubdomainRegistrar}[`++subdomainRegistrar()++`]

[.contract-subindex-inherited]
.ProtocolVersion
* link:https://github.com/aragon/osx-commons/tree/main/contracts/src/utils/versioning/ProtocolVersion.sol[protocolVersion]

[.contract-subindex-inherited]
.IProtocolVersion

[.contract-subindex-inherited]
.InterfaceBasedRegistry
* {xref-InterfaceBasedRegistry-__InterfaceBasedRegistry_init-contract-IDAO-bytes4-}[`++__InterfaceBasedRegistry_init(_managingDao, _targetInterfaceId)++`]
* {xref-InterfaceBasedRegistry-_authorizeUpgrade-address-}[`++_authorizeUpgrade()++`]
* {xref-InterfaceBasedRegistry-_register-address-}[`++_register(_registrant)++`]
* {xref-InterfaceBasedRegistry-UPGRADE_REGISTRY_PERMISSION_ID-bytes32}[`++UPGRADE_REGISTRY_PERMISSION_ID()++`]
* {xref-InterfaceBasedRegistry-targetInterfaceId-bytes4}[`++targetInterfaceId()++`]
* {xref-InterfaceBasedRegistry-entries-mapping-address----bool-}[`++entries()++`]

[.contract-subindex-inherited]
.DaoAuthorizableUpgradeable
* link:https://github.com/aragon/osx-commons/tree/main/contracts/src/permission/auth/DaoAuthorizableUpgradeable.sol[__DaoAuthorizableUpgradeable_init]
* link:https://github.com/aragon/osx-commons/tree/main/contracts/src/permission/auth/DaoAuthorizableUpgradeable.sol[dao]

[.contract-subindex-inherited]
.ContextUpgradeable

[.contract-subindex-inherited]
.UUPSUpgradeable

[.contract-subindex-inherited]
.ERC1967UpgradeUpgradeable

[.contract-subindex-inherited]
.IERC1967Upgradeable

[.contract-subindex-inherited]
.IERC1822ProxiableUpgradeable

[.contract-subindex-inherited]
.Initializable

--

[.contract-index]
.Events
--
* {xref-DAORegistry-DAORegistered-address-address-string-}[`++DAORegistered(dao, creator, subdomain)++`]

[.contract-subindex-inherited]
.ProtocolVersion

[.contract-subindex-inherited]
.IProtocolVersion

[.contract-subindex-inherited]
.InterfaceBasedRegistry

[.contract-subindex-inherited]
.DaoAuthorizableUpgradeable

[.contract-subindex-inherited]
.ContextUpgradeable

[.contract-subindex-inherited]
.UUPSUpgradeable

[.contract-subindex-inherited]
.ERC1967UpgradeUpgradeable

[.contract-subindex-inherited]
.IERC1967Upgradeable

[.contract-subindex-inherited]
.IERC1822ProxiableUpgradeable

[.contract-subindex-inherited]
.Initializable

--

[.contract-index]
.Errors
--

[.contract-subindex-inherited]
.ProtocolVersion

[.contract-subindex-inherited]
.IProtocolVersion

[.contract-subindex-inherited]
.InterfaceBasedRegistry

[.contract-subindex-inherited]
.DaoAuthorizableUpgradeable

[.contract-subindex-inherited]
.ContextUpgradeable

[.contract-subindex-inherited]
.UUPSUpgradeable

[.contract-subindex-inherited]
.ERC1967UpgradeUpgradeable

[.contract-subindex-inherited]
.IERC1967Upgradeable

[.contract-subindex-inherited]
.IERC1822ProxiableUpgradeable

[.contract-subindex-inherited]
.Initializable

--

[.contract-item]
[[DAORegistry-constructor--]]
==== `[.contract-item-name]#++constructor++#++()++` [.item-kind]#public#

Used to disallow initializing the implementation contract by an attacker for extra safety.

[.contract-item]
[[DAORegistry-initialize-contract-IDAO-contract-ENSSubdomainRegistrar-]]
==== `[.contract-item-name]#++initialize++#++(contract IDAO _managingDao, contract ENSSubdomainRegistrar _subdomainRegistrar)++` [.item-kind]#external#

Initializes the contract.

[.contract-item]
[[DAORegistry-register-contract-IDAO-address-string-]]
==== `[.contract-item-name]#++register++#++(contract IDAO dao, address creator, string subdomain)++` [.item-kind]#external#

Registers a DAO by its address. If a non-empty subdomain name is provided that is not taken already, the DAO becomes the owner of the ENS name.

A subdomain is unique within the Aragon DAO framework and can get stored here.

[.contract-item]
[[DAORegistry-REGISTER_DAO_PERMISSION_ID-bytes32]]
==== `[.contract-item-name]#++REGISTER_DAO_PERMISSION_ID++#++() → bytes32++` [.item-kind]#public#

The ID of the permission required to call the &#x60;register&#x60; function.

[.contract-item]
[[DAORegistry-subdomainRegistrar-contract-ENSSubdomainRegistrar]]
==== `[.contract-item-name]#++subdomainRegistrar++#++() → contract ENSSubdomainRegistrar++` [.item-kind]#public#

The ENS subdomain registrar registering the DAO subdomains.

[.contract-item]
[[DAORegistry-DAORegistered-address-address-string-]]
==== `[.contract-item-name]#++DAORegistered++#++(address indexed dao, address indexed creator, string subdomain)++` [.item-kind]#event#

Emitted when a new DAO is registered.

[.contract-item]
[[DAORegistry-InvalidDaoSubdomain-string-]]
==== `[.contract-item-name]#++InvalidDaoSubdomain++#++(string subdomain)++` [.item-kind]#error#

Thrown if the DAO subdomain doesn&#x27;t match the regex &#x60;[0-9a-z\-]&#x60;

:REGISTER_PLUGIN_REPO_PERMISSION_ID: pass:normal[xref:#PluginRepoRegistry-REGISTER_PLUGIN_REPO_PERMISSION_ID-bytes32[`++REGISTER_PLUGIN_REPO_PERMISSION_ID++`]]
:subdomainRegistrar: pass:normal[xref:#PluginRepoRegistry-subdomainRegistrar-contract-ENSSubdomainRegistrar[`++subdomainRegistrar++`]]
:PluginRepoRegistered: pass:normal[xref:#PluginRepoRegistry-PluginRepoRegistered-string-address-[`++PluginRepoRegistered++`]]
:InvalidPluginSubdomain: pass:normal[xref:#PluginRepoRegistry-InvalidPluginSubdomain-string-[`++InvalidPluginSubdomain++`]]
:EmptyPluginRepoSubdomain: pass:normal[xref:#PluginRepoRegistry-EmptyPluginRepoSubdomain--[`++EmptyPluginRepoSubdomain++`]]
:constructor: pass:normal[xref:#PluginRepoRegistry-constructor--[`++constructor++`]]
:initialize: pass:normal[xref:#PluginRepoRegistry-initialize-contract-IDAO-contract-ENSSubdomainRegistrar-[`++initialize++`]]
:registerPluginRepo: pass:normal[xref:#PluginRepoRegistry-registerPluginRepo-string-address-[`++registerPluginRepo++`]]

[.contract]
[[PluginRepoRegistry]]
=== `++PluginRepoRegistry++` link:https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v/src/framework/plugin/repo/PluginRepoRegistry.sol[{github-icon},role=heading-link]

[.contract-index]
.Functions
--
* {xref-PluginRepoRegistry-constructor--}[`++constructor()++`]
* {xref-PluginRepoRegistry-initialize-contract-IDAO-contract-ENSSubdomainRegistrar-}[`++initialize(_dao, _subdomainRegistrar)++`]
* {xref-PluginRepoRegistry-registerPluginRepo-string-address-}[`++registerPluginRepo(subdomain, pluginRepo)++`]
* {xref-PluginRepoRegistry-REGISTER_PLUGIN_REPO_PERMISSION_ID-bytes32}[`++REGISTER_PLUGIN_REPO_PERMISSION_ID()++`]
* {xref-PluginRepoRegistry-subdomainRegistrar-contract-ENSSubdomainRegistrar}[`++subdomainRegistrar()++`]

[.contract-subindex-inherited]
.ProtocolVersion
* link:https://github.com/aragon/osx-commons/tree/main/contracts/src/utils/versioning/ProtocolVersion.sol[protocolVersion]

[.contract-subindex-inherited]
.IProtocolVersion

[.contract-subindex-inherited]
.InterfaceBasedRegistry
* {xref-InterfaceBasedRegistry-__InterfaceBasedRegistry_init-contract-IDAO-bytes4-}[`++__InterfaceBasedRegistry_init(_managingDao, _targetInterfaceId)++`]
* {xref-InterfaceBasedRegistry-_authorizeUpgrade-address-}[`++_authorizeUpgrade()++`]
* {xref-InterfaceBasedRegistry-_register-address-}[`++_register(_registrant)++`]
* {xref-InterfaceBasedRegistry-UPGRADE_REGISTRY_PERMISSION_ID-bytes32}[`++UPGRADE_REGISTRY_PERMISSION_ID()++`]
* {xref-InterfaceBasedRegistry-targetInterfaceId-bytes4}[`++targetInterfaceId()++`]
* {xref-InterfaceBasedRegistry-entries-mapping-address----bool-}[`++entries()++`]

[.contract-subindex-inherited]
.DaoAuthorizableUpgradeable
* link:https://github.com/aragon/osx-commons/tree/main/contracts/src/permission/auth/DaoAuthorizableUpgradeable.sol[__DaoAuthorizableUpgradeable_init]
* link:https://github.com/aragon/osx-commons/tree/main/contracts/src/permission/auth/DaoAuthorizableUpgradeable.sol[dao]

[.contract-subindex-inherited]
.ContextUpgradeable

[.contract-subindex-inherited]
.UUPSUpgradeable

[.contract-subindex-inherited]
.ERC1967UpgradeUpgradeable

[.contract-subindex-inherited]
.IERC1967Upgradeable

[.contract-subindex-inherited]
.IERC1822ProxiableUpgradeable

[.contract-subindex-inherited]
.Initializable

--

[.contract-index]
.Events
--
* {xref-PluginRepoRegistry-PluginRepoRegistered-string-address-}[`++PluginRepoRegistered(subdomain, pluginRepo)++`]

[.contract-subindex-inherited]
.ProtocolVersion

[.contract-subindex-inherited]
.IProtocolVersion

[.contract-subindex-inherited]
.InterfaceBasedRegistry

[.contract-subindex-inherited]
.DaoAuthorizableUpgradeable

[.contract-subindex-inherited]
.ContextUpgradeable

[.contract-subindex-inherited]
.UUPSUpgradeable

[.contract-subindex-inherited]
.ERC1967UpgradeUpgradeable

[.contract-subindex-inherited]
.IERC1967Upgradeable

[.contract-subindex-inherited]
.IERC1822ProxiableUpgradeable

[.contract-subindex-inherited]
.Initializable

--

[.contract-index]
.Errors
--

[.contract-subindex-inherited]
.ProtocolVersion

[.contract-subindex-inherited]
.IProtocolVersion

[.contract-subindex-inherited]
.InterfaceBasedRegistry

[.contract-subindex-inherited]
.DaoAuthorizableUpgradeable

[.contract-subindex-inherited]
.ContextUpgradeable

[.contract-subindex-inherited]
.UUPSUpgradeable

[.contract-subindex-inherited]
.ERC1967UpgradeUpgradeable

[.contract-subindex-inherited]
.IERC1967Upgradeable

[.contract-subindex-inherited]
.IERC1822ProxiableUpgradeable

[.contract-subindex-inherited]
.Initializable

--

[.contract-item]
[[PluginRepoRegistry-constructor--]]
==== `[.contract-item-name]#++constructor++#++()++` [.item-kind]#public#

Used to disallow initializing the implementation contract by an attacker for extra safety.

[.contract-item]
[[PluginRepoRegistry-initialize-contract-IDAO-contract-ENSSubdomainRegistrar-]]
==== `[.contract-item-name]#++initialize++#++(contract IDAO _dao, contract ENSSubdomainRegistrar _subdomainRegistrar)++` [.item-kind]#external#

Initializes the contract by setting calling the &#x60;InterfaceBasedRegistry&#x60; base class initialize method.

[.contract-item]
[[PluginRepoRegistry-registerPluginRepo-string-address-]]
==== `[.contract-item-name]#++registerPluginRepo++#++(string subdomain, address pluginRepo)++` [.item-kind]#external#

Registers a plugin repository with a subdomain and address.

[.contract-item]
[[PluginRepoRegistry-REGISTER_PLUGIN_REPO_PERMISSION_ID-bytes32]]
==== `[.contract-item-name]#++REGISTER_PLUGIN_REPO_PERMISSION_ID++#++() → bytes32++` [.item-kind]#public#

The ID of the permission required to call the &#x60;register&#x60; function.

[.contract-item]
[[PluginRepoRegistry-subdomainRegistrar-contract-ENSSubdomainRegistrar]]
==== `[.contract-item-name]#++subdomainRegistrar++#++() → contract ENSSubdomainRegistrar++` [.item-kind]#public#

The ENS subdomain registrar registering the PluginRepo subdomains.

[.contract-item]
[[PluginRepoRegistry-PluginRepoRegistered-string-address-]]
==== `[.contract-item-name]#++PluginRepoRegistered++#++(string subdomain, address pluginRepo)++` [.item-kind]#event#

Emitted if a new plugin repository is registered.

[.contract-item]
[[PluginRepoRegistry-InvalidPluginSubdomain-string-]]
==== `[.contract-item-name]#++InvalidPluginSubdomain++#++(string subdomain)++` [.item-kind]#error#

Thrown if the plugin subdomain doesn&#x27;t match the regex &#x60;[0-9a-z\-]&#x60;

[.contract-item]
[[PluginRepoRegistry-EmptyPluginRepoSubdomain--]]
==== `[.contract-item-name]#++EmptyPluginRepoSubdomain++#++()++` [.item-kind]#error#

Thrown if the plugin repository subdomain is empty.

== Framework 

:Tag: pass:normal[xref:#PluginRepo-Tag[`++Tag++`]]
:Version: pass:normal[xref:#PluginRepo-Version[`++Version++`]]
:MAINTAINER_PERMISSION_ID: pass:normal[xref:#PluginRepo-MAINTAINER_PERMISSION_ID-bytes32[`++MAINTAINER_PERMISSION_ID++`]]
:UPGRADE_REPO_PERMISSION_ID: pass:normal[xref:#PluginRepo-UPGRADE_REPO_PERMISSION_ID-bytes32[`++UPGRADE_REPO_PERMISSION_ID++`]]
:buildsPerRelease: pass:normal[xref:#PluginRepo-buildsPerRelease-mapping-uint8----uint16-[`++buildsPerRelease++`]]
:versions: pass:normal[xref:#PluginRepo-versions-mapping-bytes32----struct-PluginRepo-Version-[`++versions++`]]
:latestTagHashForPluginSetup: pass:normal[xref:#PluginRepo-latestTagHashForPluginSetup-mapping-address----bytes32-[`++latestTagHashForPluginSetup++`]]
:latestRelease: pass:normal[xref:#PluginRepo-latestRelease-uint8[`++latestRelease++`]]
:VersionHashDoesNotExist: pass:normal[xref:#PluginRepo-VersionHashDoesNotExist-bytes32-[`++VersionHashDoesNotExist++`]]
:InvalidPluginSetupInterface: pass:normal[xref:#PluginRepo-InvalidPluginSetupInterface--[`++InvalidPluginSetupInterface++`]]
:ReleaseZeroNotAllowed: pass:normal[xref:#PluginRepo-ReleaseZeroNotAllowed--[`++ReleaseZeroNotAllowed++`]]
:InvalidReleaseIncrement: pass:normal[xref:#PluginRepo-InvalidReleaseIncrement-uint8-uint8-[`++InvalidReleaseIncrement++`]]
:PluginSetupAlreadyInPreviousRelease: pass:normal[xref:#PluginRepo-PluginSetupAlreadyInPreviousRelease-uint8-uint16-address-[`++PluginSetupAlreadyInPreviousRelease++`]]
:EmptyReleaseMetadata: pass:normal[xref:#PluginRepo-EmptyReleaseMetadata--[`++EmptyReleaseMetadata++`]]
:ReleaseDoesNotExist: pass:normal[xref:#PluginRepo-ReleaseDoesNotExist--[`++ReleaseDoesNotExist++`]]
:constructor: pass:normal[xref:#PluginRepo-constructor--[`++constructor++`]]
:initialize: pass:normal[xref:#PluginRepo-initialize-address-[`++initialize++`]]
:initializeFrom: pass:normal[xref:#PluginRepo-initializeFrom-uint8-3--bytes-[`++initializeFrom++`]]
:createVersion: pass:normal[xref:#PluginRepo-createVersion-uint8-address-bytes-bytes-[`++createVersion++`]]
:updateReleaseMetadata: pass:normal[xref:#PluginRepo-updateReleaseMetadata-uint8-bytes-[`++updateReleaseMetadata++`]]
:getLatestVersion: pass:normal[xref:#PluginRepo-getLatestVersion-uint8-[`++getLatestVersion++`]]
:getLatestVersion: pass:normal[xref:#PluginRepo-getLatestVersion-address-[`++getLatestVersion++`]]
:getVersion: pass:normal[xref:#PluginRepo-getVersion-struct-PluginRepo-Tag-[`++getVersion++`]]
:getVersion: pass:normal[xref:#PluginRepo-getVersion-bytes32-[`++getVersion++`]]
:buildCount: pass:normal[xref:#PluginRepo-buildCount-uint8-[`++buildCount++`]]
:tagHash: pass:normal[xref:#PluginRepo-tagHash-struct-PluginRepo-Tag-[`++tagHash++`]]
:_authorizeUpgrade: pass:normal[xref:#PluginRepo-_authorizeUpgrade-address-[`++_authorizeUpgrade++`]]
:supportsInterface: pass:normal[xref:#PluginRepo-supportsInterface-bytes4-[`++supportsInterface++`]]

[.contract]
[[PluginRepo]]
=== `++PluginRepo++` link:https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v/src/framework/plugin/repo/PluginRepo.sol[{github-icon},role=heading-link]

[.contract-index]
.Functions
--
* {xref-PluginRepo-constructor--}[`++constructor()++`]
* {xref-PluginRepo-initialize-address-}[`++initialize(initialOwner)++`]
* {xref-PluginRepo-initializeFrom-uint8-3--bytes-}[`++initializeFrom(_previousProtocolVersion, _initData)++`]
* {xref-PluginRepo-createVersion-uint8-address-bytes-bytes-}[`++createVersion(_release, _pluginSetup, _buildMetadata, _releaseMetadata)++`]
* {xref-PluginRepo-updateReleaseMetadata-uint8-bytes-}[`++updateReleaseMetadata(_release, _releaseMetadata)++`]
* {xref-PluginRepo-getLatestVersion-uint8-}[`++getLatestVersion(_release)++`]
* {xref-PluginRepo-getLatestVersion-address-}[`++getLatestVersion(_pluginSetup)++`]
* {xref-PluginRepo-getVersion-struct-PluginRepo-Tag-}[`++getVersion(_tag)++`]
* {xref-PluginRepo-getVersion-bytes32-}[`++getVersion(_tagHash)++`]
* {xref-PluginRepo-buildCount-uint8-}[`++buildCount(_release)++`]
* {xref-PluginRepo-tagHash-struct-PluginRepo-Tag-}[`++tagHash(_tag)++`]
* {xref-PluginRepo-_authorizeUpgrade-address-}[`++_authorizeUpgrade()++`]
* {xref-PluginRepo-supportsInterface-bytes4-}[`++supportsInterface(_interfaceId)++`]
* {xref-PluginRepo-MAINTAINER_PERMISSION_ID-bytes32}[`++MAINTAINER_PERMISSION_ID()++`]
* {xref-PluginRepo-UPGRADE_REPO_PERMISSION_ID-bytes32}[`++UPGRADE_REPO_PERMISSION_ID()++`]
* {xref-PluginRepo-latestRelease-uint8}[`++latestRelease()++`]

[.contract-subindex-inherited]
.PermissionManager
* {xref-PermissionManager-__PermissionManager_init-address-}[`++__PermissionManager_init(_initialOwner)++`]
* {xref-PermissionManager-grant-address-address-bytes32-}[`++grant(_where, _who, _permissionId)++`]
* {xref-PermissionManager-grantWithCondition-address-address-bytes32-contract-IPermissionCondition-}[`++grantWithCondition(_where, _who, _permissionId, _condition)++`]
* {xref-PermissionManager-revoke-address-address-bytes32-}[`++revoke(_where, _who, _permissionId)++`]
* {xref-PermissionManager-applySingleTargetPermissions-address-struct-PermissionLib-SingleTargetPermission---}[`++applySingleTargetPermissions(_where, items)++`]
* {xref-PermissionManager-applyMultiTargetPermissions-struct-PermissionLib-MultiTargetPermission---}[`++applyMultiTargetPermissions(_items)++`]
* {xref-PermissionManager-isGranted-address-address-bytes32-bytes-}[`++isGranted(_where, _who, _permissionId, _data)++`]
* {xref-PermissionManager-_checkCondition-address-address-address-bytes32-bytes-}[`++_checkCondition(_condition, _where, _who, _permissionId, _data)++`]
* {xref-PermissionManager-_initializePermissionManager-address-}[`++_initializePermissionManager(_initialOwner)++`]
* {xref-PermissionManager-_grant-address-address-bytes32-}[`++_grant(_where, _who, _permissionId)++`]
* {xref-PermissionManager-_grantWithCondition-address-address-bytes32-contract-IPermissionCondition-}[`++_grantWithCondition(_where, _who, _permissionId, _condition)++`]
* {xref-PermissionManager-_revoke-address-address-bytes32-}[`++_revoke(_where, _who, _permissionId)++`]
* {xref-PermissionManager-_auth-bytes32-}[`++_auth(_permissionId)++`]
* {xref-PermissionManager-permissionHash-address-address-bytes32-}[`++permissionHash(_where, _who, _permissionId)++`]
* {xref-PermissionManager-isPermissionRestrictedForAnyAddr-bytes32-}[`++isPermissionRestrictedForAnyAddr(_permissionId)++`]
* {xref-PermissionManager-ROOT_PERMISSION_ID-bytes32}[`++ROOT_PERMISSION_ID()++`]

[.contract-subindex-inherited]
.ProtocolVersion
* link:https://github.com/aragon/osx-commons/tree/main/contracts/src/utils/versioning/ProtocolVersion.sol[protocolVersion]

[.contract-subindex-inherited]
.IProtocolVersion

[.contract-subindex-inherited]
.UUPSUpgradeable

[.contract-subindex-inherited]
.ERC1967UpgradeUpgradeable

[.contract-subindex-inherited]
.IERC1967Upgradeable

[.contract-subindex-inherited]
.IERC1822ProxiableUpgradeable

[.contract-subindex-inherited]
.IPluginRepo

[.contract-subindex-inherited]
.ERC165Upgradeable

[.contract-subindex-inherited]
.IERC165Upgradeable

[.contract-subindex-inherited]
.Initializable

--

[.contract-index]
.Events
--

[.contract-subindex-inherited]
.PermissionManager
* {xref-PermissionManager-Granted-bytes32-address-address-address-address-}[`++Granted(permissionId, here, where, who, condition)++`]
* {xref-PermissionManager-Revoked-bytes32-address-address-address-}[`++Revoked(permissionId, here, where, who)++`]

[.contract-subindex-inherited]
.ProtocolVersion

[.contract-subindex-inherited]
.IProtocolVersion

[.contract-subindex-inherited]
.UUPSUpgradeable

[.contract-subindex-inherited]
.ERC1967UpgradeUpgradeable

[.contract-subindex-inherited]
.IERC1967Upgradeable

[.contract-subindex-inherited]
.IERC1822ProxiableUpgradeable

[.contract-subindex-inherited]
.IPluginRepo
* {xref-IPluginRepo-VersionCreated-uint8-uint16-address-bytes-}[`++VersionCreated(release, build, pluginSetup, buildMetadata)++`]
* {xref-IPluginRepo-ReleaseMetadataUpdated-uint8-bytes-}[`++ReleaseMetadataUpdated(release, releaseMetadata)++`]

[.contract-subindex-inherited]
.ERC165Upgradeable

[.contract-subindex-inherited]
.IERC165Upgradeable

[.contract-subindex-inherited]
.Initializable

--

[.contract-index]
.Errors
--

[.contract-subindex-inherited]
.PermissionManager

[.contract-subindex-inherited]
.ProtocolVersion

[.contract-subindex-inherited]
.IProtocolVersion

[.contract-subindex-inherited]
.UUPSUpgradeable

[.contract-subindex-inherited]
.ERC1967UpgradeUpgradeable

[.contract-subindex-inherited]
.IERC1967Upgradeable

[.contract-subindex-inherited]
.IERC1822ProxiableUpgradeable

[.contract-subindex-inherited]
.IPluginRepo

[.contract-subindex-inherited]
.ERC165Upgradeable

[.contract-subindex-inherited]
.IERC165Upgradeable

[.contract-subindex-inherited]
.Initializable

--

[.contract-index]
.Internal Variables
--

[.contract-subindex-inherited]
.PermissionManager

[.contract-subindex-inherited]
.ProtocolVersion

[.contract-subindex-inherited]
.IProtocolVersion

[.contract-subindex-inherited]
.UUPSUpgradeable

[.contract-subindex-inherited]
.ERC1967UpgradeUpgradeable

[.contract-subindex-inherited]
.IERC1967Upgradeable

[.contract-subindex-inherited]
.IERC1822ProxiableUpgradeable

[.contract-subindex-inherited]
.IPluginRepo

[.contract-subindex-inherited]
.ERC165Upgradeable

[.contract-subindex-inherited]
.IERC165Upgradeable

[.contract-subindex-inherited]
.Initializable

--

[.contract-item]
[[PluginRepo-constructor--]]
==== `[.contract-item-name]#++constructor++#++()++` [.item-kind]#public#

Used to disallow initializing the implementation contract by an attacker for extra safety.

[.contract-item]
[[PluginRepo-initialize-address-]]
==== `[.contract-item-name]#++initialize++#++(address initialOwner)++` [.item-kind]#external#

Initializes the contract by
- initializing the permission manager
- granting the &#x60;MAINTAINER_PERMISSION_ID&#x60; permission to the initial owner.

This method is required to support [ERC-1822](https://eips.ethereum.org/EIPS/eip-1822).

[.contract-item]
[[PluginRepo-initializeFrom-uint8-3--bytes-]]
==== `[.contract-item-name]#++initializeFrom++#++(uint8[3] _previousProtocolVersion, bytes _initData)++` [.item-kind]#external#

Initializes the pluginRepo after an upgrade from a previous protocol version.

This function is a placeholder until we require reinitialization.

[.contract-item]
[[PluginRepo-createVersion-uint8-address-bytes-bytes-]]
==== `[.contract-item-name]#++createVersion++#++(uint8 _release, address _pluginSetup, bytes _buildMetadata, bytes _releaseMetadata)++` [.item-kind]#external#

Creates a new plugin version as the latest build for an existing release number or the first build for a new release number for the provided &#x60;PluginSetup&#x60; contract address and metadata.

[.contract-item]
[[PluginRepo-updateReleaseMetadata-uint8-bytes-]]
==== `[.contract-item-name]#++updateReleaseMetadata++#++(uint8 _release, bytes _releaseMetadata)++` [.item-kind]#external#

Updates the metadata for release with content &#x60;@fromHex(_releaseMetadata)&#x60;.

[.contract-item]
[[PluginRepo-getLatestVersion-uint8-]]
==== `[.contract-item-name]#++getLatestVersion++#++(uint8 _release) → struct PluginRepo.Version++` [.item-kind]#public#

Returns the latest version for a given release number.

[.contract-item]
[[PluginRepo-getLatestVersion-address-]]
==== `[.contract-item-name]#++getLatestVersion++#++(address _pluginSetup) → struct PluginRepo.Version++` [.item-kind]#public#

Returns the latest version for a given plugin setup.

[.contract-item]
[[PluginRepo-getVersion-struct-PluginRepo-Tag-]]
==== `[.contract-item-name]#++getVersion++#++(struct PluginRepo.Tag _tag) → struct PluginRepo.Version++` [.item-kind]#public#

Returns the version associated with a tag.

[.contract-item]
[[PluginRepo-getVersion-bytes32-]]
==== `[.contract-item-name]#++getVersion++#++(bytes32 _tagHash) → struct PluginRepo.Version++` [.item-kind]#public#

Returns the version for a tag hash.

[.contract-item]
[[PluginRepo-buildCount-uint8-]]
==== `[.contract-item-name]#++buildCount++#++(uint8 _release) → uint256++` [.item-kind]#public#

Gets the total number of builds for a given release number.

[.contract-item]
[[PluginRepo-tagHash-struct-PluginRepo-Tag-]]
==== `[.contract-item-name]#++tagHash++#++(struct PluginRepo.Tag _tag) → bytes32++` [.item-kind]#internal#

The hash of the version tag obtained from the packed, bytes-encoded release and build number.

[.contract-item]
[[PluginRepo-_authorizeUpgrade-address-]]
==== `[.contract-item-name]#++_authorizeUpgrade++#++(address)++` [.item-kind]#internal#

Internal method authorizing the upgrade of the contract via the [upgradeability mechanism for UUPS proxies](https://docs.openzeppelin.com/contracts/4.x/api/proxy#UUPSUpgradeable) (see [ERC-1822](https://eips.ethereum.org/EIPS/eip-1822)).

The caller must have the &#x60;UPGRADE_REPO_PERMISSION_ID&#x60; permission.

[.contract-item]
[[PluginRepo-supportsInterface-bytes4-]]
==== `[.contract-item-name]#++supportsInterface++#++(bytes4 _interfaceId) → bool++` [.item-kind]#public#

Checks if this or the parent contract supports an interface by its ID.

[.contract-item]
[[PluginRepo-MAINTAINER_PERMISSION_ID-bytes32]]
==== `[.contract-item-name]#++MAINTAINER_PERMISSION_ID++#++() → bytes32++` [.item-kind]#public#

The ID of the permission required to call the &#x60;createVersion&#x60; function.

[.contract-item]
[[PluginRepo-UPGRADE_REPO_PERMISSION_ID-bytes32]]
==== `[.contract-item-name]#++UPGRADE_REPO_PERMISSION_ID++#++() → bytes32++` [.item-kind]#public#

The ID of the permission required to call the &#x60;createVersion&#x60; function.

[.contract-item]
[[PluginRepo-latestRelease-uint8]]
==== `[.contract-item-name]#++latestRelease++#++() → uint8++` [.item-kind]#public#

The ID of the latest release.

The maximum release number is 255.

[.contract-item]
[[PluginRepo-VersionHashDoesNotExist-bytes32-]]
==== `[.contract-item-name]#++VersionHashDoesNotExist++#++(bytes32 versionHash)++` [.item-kind]#error#

Thrown if a version does not exist.

[.contract-item]
[[PluginRepo-InvalidPluginSetupInterface--]]
==== `[.contract-item-name]#++InvalidPluginSetupInterface++#++()++` [.item-kind]#error#

Thrown if a plugin setup contract does not inherit from &#x60;PluginSetup&#x60;.

[.contract-item]
[[PluginRepo-ReleaseZeroNotAllowed--]]
==== `[.contract-item-name]#++ReleaseZeroNotAllowed++#++()++` [.item-kind]#error#

Thrown if a release number is zero.

[.contract-item]
[[PluginRepo-InvalidReleaseIncrement-uint8-uint8-]]
==== `[.contract-item-name]#++InvalidReleaseIncrement++#++(uint8 latestRelease, uint8 newRelease)++` [.item-kind]#error#

Thrown if a release number is incremented by more than one.

[.contract-item]
[[PluginRepo-PluginSetupAlreadyInPreviousRelease-uint8-uint16-address-]]
==== `[.contract-item-name]#++PluginSetupAlreadyInPreviousRelease++#++(uint8 release, uint16 build, address pluginSetup)++` [.item-kind]#error#

Thrown if the same plugin setup contract exists already in a previous releases.

[.contract-item]
[[PluginRepo-EmptyReleaseMetadata--]]
==== `[.contract-item-name]#++EmptyReleaseMetadata++#++()++` [.item-kind]#error#

Thrown if the metadata URI is empty.

[.contract-item]
[[PluginRepo-ReleaseDoesNotExist--]]
==== `[.contract-item-name]#++ReleaseDoesNotExist++#++()++` [.item-kind]#error#

Thrown if release does not exist.

[.contract-item]
[[PluginRepo-buildsPerRelease-mapping-uint8----uint16-]]
==== `mapping(uint8 &#x3D;&gt; uint16) [.contract-item-name]#++buildsPerRelease++#` [.item-kind]#internal#

The mapping between release and build numbers.

[.contract-item]
[[PluginRepo-versions-mapping-bytes32----struct-PluginRepo-Version-]]
==== `mapping(bytes32 &#x3D;&gt; struct PluginRepo.Version) [.contract-item-name]#++versions++#` [.item-kind]#internal#

The mapping between the version hash and the corresponding version information.

[.contract-item]
[[PluginRepo-latestTagHashForPluginSetup-mapping-address----bytes32-]]
==== `mapping(address &#x3D;&gt; bytes32) [.contract-item-name]#++latestTagHashForPluginSetup++#` [.item-kind]#internal#

The mapping between the plugin setup address and its corresponding version hash.

:APPLY_INSTALLATION_PERMISSION_ID: pass:normal[xref:#PluginSetupProcessor-APPLY_INSTALLATION_PERMISSION_ID-bytes32[`++APPLY_INSTALLATION_PERMISSION_ID++`]]
:APPLY_UPDATE_PERMISSION_ID: pass:normal[xref:#PluginSetupProcessor-APPLY_UPDATE_PERMISSION_ID-bytes32[`++APPLY_UPDATE_PERMISSION_ID++`]]
:APPLY_UNINSTALLATION_PERMISSION_ID: pass:normal[xref:#PluginSetupProcessor-APPLY_UNINSTALLATION_PERMISSION_ID-bytes32[`++APPLY_UNINSTALLATION_PERMISSION_ID++`]]
:PluginState: pass:normal[xref:#PluginSetupProcessor-PluginState[`++PluginState++`]]
:states: pass:normal[xref:#PluginSetupProcessor-states-mapping-bytes32----struct-PluginSetupProcessor-PluginState-[`++states++`]]
:PrepareInstallationParams: pass:normal[xref:#PluginSetupProcessor-PrepareInstallationParams[`++PrepareInstallationParams++`]]
:ApplyInstallationParams: pass:normal[xref:#PluginSetupProcessor-ApplyInstallationParams[`++ApplyInstallationParams++`]]
:PrepareUpdateParams: pass:normal[xref:#PluginSetupProcessor-PrepareUpdateParams[`++PrepareUpdateParams++`]]
:ApplyUpdateParams: pass:normal[xref:#PluginSetupProcessor-ApplyUpdateParams[`++ApplyUpdateParams++`]]
:PrepareUninstallationParams: pass:normal[xref:#PluginSetupProcessor-PrepareUninstallationParams[`++PrepareUninstallationParams++`]]
:ApplyUninstallationParams: pass:normal[xref:#PluginSetupProcessor-ApplyUninstallationParams[`++ApplyUninstallationParams++`]]
:repoRegistry: pass:normal[xref:#PluginSetupProcessor-repoRegistry-contract-PluginRepoRegistry[`++repoRegistry++`]]
:SetupApplicationUnauthorized: pass:normal[xref:#PluginSetupProcessor-SetupApplicationUnauthorized-address-address-bytes32-[`++SetupApplicationUnauthorized++`]]
:PluginNonupgradeable: pass:normal[xref:#PluginSetupProcessor-PluginNonupgradeable-address-[`++PluginNonupgradeable++`]]
:PluginProxyUpgradeFailed: pass:normal[xref:#PluginSetupProcessor-PluginProxyUpgradeFailed-address-address-bytes-[`++PluginProxyUpgradeFailed++`]]
:IPluginNotSupported: pass:normal[xref:#PluginSetupProcessor-IPluginNotSupported-address-[`++IPluginNotSupported++`]]
:PluginRepoNonexistent: pass:normal[xref:#PluginSetupProcessor-PluginRepoNonexistent--[`++PluginRepoNonexistent++`]]
:SetupAlreadyPrepared: pass:normal[xref:#PluginSetupProcessor-SetupAlreadyPrepared-bytes32-[`++SetupAlreadyPrepared++`]]
:SetupNotApplicable: pass:normal[xref:#PluginSetupProcessor-SetupNotApplicable-bytes32-[`++SetupNotApplicable++`]]
:InvalidUpdateVersion: pass:normal[xref:#PluginSetupProcessor-InvalidUpdateVersion-struct-PluginRepo-Tag-struct-PluginRepo-Tag-[`++InvalidUpdateVersion++`]]
:PluginAlreadyInstalled: pass:normal[xref:#PluginSetupProcessor-PluginAlreadyInstalled--[`++PluginAlreadyInstalled++`]]
:InvalidAppliedSetupId: pass:normal[xref:#PluginSetupProcessor-InvalidAppliedSetupId-bytes32-bytes32-[`++InvalidAppliedSetupId++`]]
:InstallationPrepared: pass:normal[xref:#PluginSetupProcessor-InstallationPrepared-address-address-bytes32-contract-PluginRepo-struct-PluginRepo-Tag-bytes-address-struct-IPluginSetup-PreparedSetupData-[`++InstallationPrepared++`]]
:InstallationApplied: pass:normal[xref:#PluginSetupProcessor-InstallationApplied-address-address-bytes32-bytes32-[`++InstallationApplied++`]]
:UpdatePrepared: pass:normal[xref:#PluginSetupProcessor-UpdatePrepared-address-address-bytes32-contract-PluginRepo-struct-PluginRepo-Tag-struct-IPluginSetup-SetupPayload-struct-IPluginSetup-PreparedSetupData-bytes-[`++UpdatePrepared++`]]
:UpdateApplied: pass:normal[xref:#PluginSetupProcessor-UpdateApplied-address-address-bytes32-bytes32-[`++UpdateApplied++`]]
:UninstallationPrepared: pass:normal[xref:#PluginSetupProcessor-UninstallationPrepared-address-address-bytes32-contract-PluginRepo-struct-PluginRepo-Tag-struct-IPluginSetup-SetupPayload-struct-PermissionLib-MultiTargetPermission---[`++UninstallationPrepared++`]]
:UninstallationApplied: pass:normal[xref:#PluginSetupProcessor-UninstallationApplied-address-address-bytes32-[`++UninstallationApplied++`]]
:canApply: pass:normal[xref:#PluginSetupProcessor-canApply-address-bytes32-[`++canApply++`]]
:constructor: pass:normal[xref:#PluginSetupProcessor-constructor-contract-PluginRepoRegistry-[`++constructor++`]]
:prepareInstallation: pass:normal[xref:#PluginSetupProcessor-prepareInstallation-address-struct-PluginSetupProcessor-PrepareInstallationParams-[`++prepareInstallation++`]]
:applyInstallation: pass:normal[xref:#PluginSetupProcessor-applyInstallation-address-struct-PluginSetupProcessor-ApplyInstallationParams-[`++applyInstallation++`]]
:prepareUpdate: pass:normal[xref:#PluginSetupProcessor-prepareUpdate-address-struct-PluginSetupProcessor-PrepareUpdateParams-[`++prepareUpdate++`]]
:applyUpdate: pass:normal[xref:#PluginSetupProcessor-applyUpdate-address-struct-PluginSetupProcessor-ApplyUpdateParams-[`++applyUpdate++`]]
:prepareUninstallation: pass:normal[xref:#PluginSetupProcessor-prepareUninstallation-address-struct-PluginSetupProcessor-PrepareUninstallationParams-[`++prepareUninstallation++`]]
:applyUninstallation: pass:normal[xref:#PluginSetupProcessor-applyUninstallation-address-struct-PluginSetupProcessor-ApplyUninstallationParams-[`++applyUninstallation++`]]
:validatePreparedSetupId: pass:normal[xref:#PluginSetupProcessor-validatePreparedSetupId-bytes32-bytes32-[`++validatePreparedSetupId++`]]

[.contract]
[[PluginSetupProcessor]]
=== `++PluginSetupProcessor++` link:https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v/src/framework/plugin/setup/PluginSetupProcessor.sol[{github-icon},role=heading-link]

This contract is temporarily granted the `ROOT_PERMISSION_ID` permission on the applying DAO and therefore is highly security critical.

[.contract-index]
.Modifiers
--
* {xref-PluginSetupProcessor-canApply-address-bytes32-}[`++canApply(_dao, _permissionId)++`]

--

[.contract-index]
.Functions
--
* {xref-PluginSetupProcessor-constructor-contract-PluginRepoRegistry-}[`++constructor(_repoRegistry)++`]
* {xref-PluginSetupProcessor-prepareInstallation-address-struct-PluginSetupProcessor-PrepareInstallationParams-}[`++prepareInstallation(_dao, _params)++`]
* {xref-PluginSetupProcessor-applyInstallation-address-struct-PluginSetupProcessor-ApplyInstallationParams-}[`++applyInstallation(_dao, _params)++`]
* {xref-PluginSetupProcessor-prepareUpdate-address-struct-PluginSetupProcessor-PrepareUpdateParams-}[`++prepareUpdate(_dao, _params)++`]
* {xref-PluginSetupProcessor-applyUpdate-address-struct-PluginSetupProcessor-ApplyUpdateParams-}[`++applyUpdate(_dao, _params)++`]
* {xref-PluginSetupProcessor-prepareUninstallation-address-struct-PluginSetupProcessor-PrepareUninstallationParams-}[`++prepareUninstallation(_dao, _params)++`]
* {xref-PluginSetupProcessor-applyUninstallation-address-struct-PluginSetupProcessor-ApplyUninstallationParams-}[`++applyUninstallation(_dao, _params)++`]
* {xref-PluginSetupProcessor-validatePreparedSetupId-bytes32-bytes32-}[`++validatePreparedSetupId(pluginInstallationId, preparedSetupId)++`]
* {xref-PluginSetupProcessor-APPLY_INSTALLATION_PERMISSION_ID-bytes32}[`++APPLY_INSTALLATION_PERMISSION_ID()++`]
* {xref-PluginSetupProcessor-APPLY_UPDATE_PERMISSION_ID-bytes32}[`++APPLY_UPDATE_PERMISSION_ID()++`]
* {xref-PluginSetupProcessor-APPLY_UNINSTALLATION_PERMISSION_ID-bytes32}[`++APPLY_UNINSTALLATION_PERMISSION_ID()++`]
* {xref-PluginSetupProcessor-states-mapping-bytes32----struct-PluginSetupProcessor-PluginState-}[`++states()++`]
* {xref-PluginSetupProcessor-repoRegistry-contract-PluginRepoRegistry}[`++repoRegistry()++`]

[.contract-subindex-inherited]
.ProtocolVersion
* link:https://github.com/aragon/osx-commons/tree/main/contracts/src/utils/versioning/ProtocolVersion.sol[protocolVersion]

[.contract-subindex-inherited]
.IProtocolVersion

--

[.contract-index]
.Events
--
* {xref-PluginSetupProcessor-InstallationPrepared-address-address-bytes32-contract-PluginRepo-struct-PluginRepo-Tag-bytes-address-struct-IPluginSetup-PreparedSetupData-}[`++InstallationPrepared(sender, dao, preparedSetupId, pluginSetupRepo, versionTag, data, plugin, preparedSetupData)++`]
* {xref-PluginSetupProcessor-InstallationApplied-address-address-bytes32-bytes32-}[`++InstallationApplied(dao, plugin, preparedSetupId, appliedSetupId)++`]
* {xref-PluginSetupProcessor-UpdatePrepared-address-address-bytes32-contract-PluginRepo-struct-PluginRepo-Tag-struct-IPluginSetup-SetupPayload-struct-IPluginSetup-PreparedSetupData-bytes-}[`++UpdatePrepared(sender, dao, preparedSetupId, pluginSetupRepo, versionTag, setupPayload, preparedSetupData, initData)++`]
* {xref-PluginSetupProcessor-UpdateApplied-address-address-bytes32-bytes32-}[`++UpdateApplied(dao, plugin, preparedSetupId, appliedSetupId)++`]
* {xref-PluginSetupProcessor-UninstallationPrepared-address-address-bytes32-contract-PluginRepo-struct-PluginRepo-Tag-struct-IPluginSetup-SetupPayload-struct-PermissionLib-MultiTargetPermission---}[`++UninstallationPrepared(sender, dao, preparedSetupId, pluginSetupRepo, versionTag, setupPayload, permissions)++`]
* {xref-PluginSetupProcessor-UninstallationApplied-address-address-bytes32-}[`++UninstallationApplied(dao, plugin, preparedSetupId)++`]

[.contract-subindex-inherited]
.ProtocolVersion

[.contract-subindex-inherited]
.IProtocolVersion

--

[.contract-index]
.Errors
--

[.contract-subindex-inherited]
.ProtocolVersion

[.contract-subindex-inherited]
.IProtocolVersion

--

[.contract-item]
[[PluginSetupProcessor-canApply-address-bytes32-]]
==== `[.contract-item-name]#++canApply++#++(address _dao, bytes32 _permissionId)++` [.item-kind]#modifier#

A modifier to check if a caller has the permission to apply a prepared setup.

[.contract-item]
[[PluginSetupProcessor-constructor-contract-PluginRepoRegistry-]]
==== `[.contract-item-name]#++constructor++#++(contract PluginRepoRegistry _repoRegistry)++` [.item-kind]#public#

Constructs the plugin setup processor by setting the associated plugin repo registry.

[.contract-item]
[[PluginSetupProcessor-prepareInstallation-address-struct-PluginSetupProcessor-PrepareInstallationParams-]]
==== `[.contract-item-name]#++prepareInstallation++#++(address _dao, struct PluginSetupProcessor.PrepareInstallationParams _params) → address plugin, struct IPluginSetup.PreparedSetupData preparedSetupData++` [.item-kind]#external#

Prepares the installation of a plugin.

[.contract-item]
[[PluginSetupProcessor-applyInstallation-address-struct-PluginSetupProcessor-ApplyInstallationParams-]]
==== `[.contract-item-name]#++applyInstallation++#++(address _dao, struct PluginSetupProcessor.ApplyInstallationParams _params)++` [.item-kind]#external#

Applies the permissions of a prepared installation to a DAO.

[.contract-item]
[[PluginSetupProcessor-prepareUpdate-address-struct-PluginSetupProcessor-PrepareUpdateParams-]]
==== `[.contract-item-name]#++prepareUpdate++#++(address _dao, struct PluginSetupProcessor.PrepareUpdateParams _params) → bytes initData, struct IPluginSetup.PreparedSetupData preparedSetupData++` [.item-kind]#external#

Prepares the update of an UUPS upgradeable plugin.

The list of &#x60;_params.setupPayload.currentHelpers&#x60; has to be specified in the same order as they were returned from previous setups preparation steps (the latest &#x60;prepareInstallation&#x60; or &#x60;prepareUpdate&#x60; step that has happened) on which the update is prepared for.

[.contract-item]
[[PluginSetupProcessor-applyUpdate-address-struct-PluginSetupProcessor-ApplyUpdateParams-]]
==== `[.contract-item-name]#++applyUpdate++#++(address _dao, struct PluginSetupProcessor.ApplyUpdateParams _params)++` [.item-kind]#external#

Applies the permissions of a prepared update of an UUPS upgradeable proxy contract to a DAO.

[.contract-item]
[[PluginSetupProcessor-prepareUninstallation-address-struct-PluginSetupProcessor-PrepareUninstallationParams-]]
==== `[.contract-item-name]#++prepareUninstallation++#++(address _dao, struct PluginSetupProcessor.PrepareUninstallationParams _params) → struct PermissionLib.MultiTargetPermission[] permissions++` [.item-kind]#external#

Prepares the uninstallation of a plugin.

The list of &#x60;_params.setupPayload.currentHelpers&#x60; has to be specified in the same order as they were returned from previous setups preparation steps (the latest &#x60;prepareInstallation&#x60; or &#x60;prepareUpdate&#x60; step that has happened) on which the uninstallation was prepared for.

[.contract-item]
[[PluginSetupProcessor-applyUninstallation-address-struct-PluginSetupProcessor-ApplyUninstallationParams-]]
==== `[.contract-item-name]#++applyUninstallation++#++(address _dao, struct PluginSetupProcessor.ApplyUninstallationParams _params)++` [.item-kind]#external#

Applies the permissions of a prepared uninstallation to a DAO.

The list of &#x60;_params.setupPayload.currentHelpers&#x60; has to be specified in the same order as they were returned from previous setups preparation steps (the latest &#x60;prepareInstallation&#x60; or &#x60;prepareUpdate&#x60; step that has happened) on which the uninstallation was prepared for.

[.contract-item]
[[PluginSetupProcessor-validatePreparedSetupId-bytes32-bytes32-]]
==== `[.contract-item-name]#++validatePreparedSetupId++#++(bytes32 pluginInstallationId, bytes32 preparedSetupId)++` [.item-kind]#public#

Validates that a setup ID can be applied for &#x60;applyInstallation&#x60;, &#x60;applyUpdate&#x60;, or &#x60;applyUninstallation&#x60;.

If the block number stored in &#x60;states[pluginInstallationId].blockNumber&#x60; exceeds the one stored in &#x60;pluginState.preparedSetupIdToBlockNumber[preparedSetupId]&#x60;, the prepared setup with &#x60;preparedSetupId&#x60; is outdated and not applicable anymore.

[.contract-item]
[[PluginSetupProcessor-APPLY_INSTALLATION_PERMISSION_ID-bytes32]]
==== `[.contract-item-name]#++APPLY_INSTALLATION_PERMISSION_ID++#++() → bytes32++` [.item-kind]#public#

The ID of the permission required to call the &#x60;applyInstallation&#x60; function.

[.contract-item]
[[PluginSetupProcessor-APPLY_UPDATE_PERMISSION_ID-bytes32]]
==== `[.contract-item-name]#++APPLY_UPDATE_PERMISSION_ID++#++() → bytes32++` [.item-kind]#public#

The ID of the permission required to call the &#x60;applyUpdate&#x60; function.

[.contract-item]
[[PluginSetupProcessor-APPLY_UNINSTALLATION_PERMISSION_ID-bytes32]]
==== `[.contract-item-name]#++APPLY_UNINSTALLATION_PERMISSION_ID++#++() → bytes32++` [.item-kind]#public#

The ID of the permission required to call the &#x60;applyUninstallation&#x60; function.

[.contract-item]
[[PluginSetupProcessor-states-mapping-bytes32----struct-PluginSetupProcessor-PluginState-]]
==== `[.contract-item-name]#++states++#++() → mapping(bytes32 &#x3D;&gt; struct PluginSetupProcessor.PluginState)++` [.item-kind]#public#

A mapping between the plugin installation ID (obtained from the DAO and plugin address) and the plugin state information.

This variable is public on purpose to allow future versions to access and migrate the storage.

[.contract-item]
[[PluginSetupProcessor-repoRegistry-contract-PluginRepoRegistry]]
==== `[.contract-item-name]#++repoRegistry++#++() → contract PluginRepoRegistry++` [.item-kind]#public#

The plugin repo registry listing the &#x60;PluginRepo&#x60; contracts versioning the &#x60;PluginSetup&#x60; contracts.

[.contract-item]
[[PluginSetupProcessor-InstallationPrepared-address-address-bytes32-contract-PluginRepo-struct-PluginRepo-Tag-bytes-address-struct-IPluginSetup-PreparedSetupData-]]
==== `[.contract-item-name]#++InstallationPrepared++#++(address indexed sender, address indexed dao, bytes32 preparedSetupId, contract PluginRepo indexed pluginSetupRepo, struct PluginRepo.Tag versionTag, bytes data, address plugin, struct IPluginSetup.PreparedSetupData preparedSetupData)++` [.item-kind]#event#

Emitted with a prepared plugin installation to store data relevant for the application step.

[.contract-item]
[[PluginSetupProcessor-InstallationApplied-address-address-bytes32-bytes32-]]
==== `[.contract-item-name]#++InstallationApplied++#++(address indexed dao, address indexed plugin, bytes32 preparedSetupId, bytes32 appliedSetupId)++` [.item-kind]#event#

Emitted after a plugin installation was applied.

[.contract-item]
[[PluginSetupProcessor-UpdatePrepared-address-address-bytes32-contract-PluginRepo-struct-PluginRepo-Tag-struct-IPluginSetup-SetupPayload-struct-IPluginSetup-PreparedSetupData-bytes-]]
==== `[.contract-item-name]#++UpdatePrepared++#++(address indexed sender, address indexed dao, bytes32 preparedSetupId, contract PluginRepo indexed pluginSetupRepo, struct PluginRepo.Tag versionTag, struct IPluginSetup.SetupPayload setupPayload, struct IPluginSetup.PreparedSetupData preparedSetupData, bytes initData)++` [.item-kind]#event#

Emitted with a prepared plugin update to store data relevant for the application step.

[.contract-item]
[[PluginSetupProcessor-UpdateApplied-address-address-bytes32-bytes32-]]
==== `[.contract-item-name]#++UpdateApplied++#++(address indexed dao, address indexed plugin, bytes32 preparedSetupId, bytes32 appliedSetupId)++` [.item-kind]#event#

Emitted after a plugin update was applied.

[.contract-item]
[[PluginSetupProcessor-UninstallationPrepared-address-address-bytes32-contract-PluginRepo-struct-PluginRepo-Tag-struct-IPluginSetup-SetupPayload-struct-PermissionLib-MultiTargetPermission---]]
==== `[.contract-item-name]#++UninstallationPrepared++#++(address indexed sender, address indexed dao, bytes32 preparedSetupId, contract PluginRepo indexed pluginSetupRepo, struct PluginRepo.Tag versionTag, struct IPluginSetup.SetupPayload setupPayload, struct PermissionLib.MultiTargetPermission[] permissions)++` [.item-kind]#event#

Emitted with a prepared plugin uninstallation to store data relevant for the application step.

[.contract-item]
[[PluginSetupProcessor-UninstallationApplied-address-address-bytes32-]]
==== `[.contract-item-name]#++UninstallationApplied++#++(address indexed dao, address indexed plugin, bytes32 preparedSetupId)++` [.item-kind]#event#

Emitted after a plugin installation was applied.

[.contract-item]
[[PluginSetupProcessor-SetupApplicationUnauthorized-address-address-bytes32-]]
==== `[.contract-item-name]#++SetupApplicationUnauthorized++#++(address dao, address caller, bytes32 permissionId)++` [.item-kind]#error#

Thrown if a setup is unauthorized and cannot be applied because of a missing permission of the associated DAO.

This is thrown if the &#x60;APPLY_INSTALLATION_PERMISSION_ID&#x60;, &#x60;APPLY_UPDATE_PERMISSION_ID&#x60;, or APPLY_UNINSTALLATION_PERMISSION_ID is missing.

[.contract-item]
[[PluginSetupProcessor-PluginNonupgradeable-address-]]
==== `[.contract-item-name]#++PluginNonupgradeable++#++(address plugin)++` [.item-kind]#error#

Thrown if a plugin is not upgradeable.

[.contract-item]
[[PluginSetupProcessor-PluginProxyUpgradeFailed-address-address-bytes-]]
==== `[.contract-item-name]#++PluginProxyUpgradeFailed++#++(address proxy, address implementation, bytes initData)++` [.item-kind]#error#

Thrown if the upgrade of an &#x60;UUPSUpgradeable&#x60; proxy contract (see [ERC-1822](https://eips.ethereum.org/EIPS/eip-1822)) failed.

[.contract-item]
[[PluginSetupProcessor-IPluginNotSupported-address-]]
==== `[.contract-item-name]#++IPluginNotSupported++#++(address plugin)++` [.item-kind]#error#

Thrown if a contract does not support the &#x60;IPlugin&#x60; interface.

[.contract-item]
[[PluginSetupProcessor-PluginRepoNonexistent--]]
==== `[.contract-item-name]#++PluginRepoNonexistent++#++()++` [.item-kind]#error#

Thrown if a plugin repository does not exist on the plugin repo registry.

[.contract-item]
[[PluginSetupProcessor-SetupAlreadyPrepared-bytes32-]]
==== `[.contract-item-name]#++SetupAlreadyPrepared++#++(bytes32 preparedSetupId)++` [.item-kind]#error#

Thrown if a plugin setup was already prepared indicated by the prepared setup ID.

[.contract-item]
[[PluginSetupProcessor-SetupNotApplicable-bytes32-]]
==== `[.contract-item-name]#++SetupNotApplicable++#++(bytes32 preparedSetupId)++` [.item-kind]#error#

Thrown if a prepared setup ID is not eligible to be applied. This can happen if another setup has been already applied or if the setup wasn&#x27;t prepared in the first place.

[.contract-item]
[[PluginSetupProcessor-InvalidUpdateVersion-struct-PluginRepo-Tag-struct-PluginRepo-Tag-]]
==== `[.contract-item-name]#++InvalidUpdateVersion++#++(struct PluginRepo.Tag currentVersionTag, struct PluginRepo.Tag newVersionTag)++` [.item-kind]#error#

Thrown if the update version is invalid.

[.contract-item]
[[PluginSetupProcessor-PluginAlreadyInstalled--]]
==== `[.contract-item-name]#++PluginAlreadyInstalled++#++()++` [.item-kind]#error#

Thrown if plugin is already installed and one tries to prepare or apply install on it.

[.contract-item]
[[PluginSetupProcessor-InvalidAppliedSetupId-bytes32-bytes32-]]
==== `[.contract-item-name]#++InvalidAppliedSetupId++#++(bytes32 currentAppliedSetupId, bytes32 appliedSetupId)++` [.item-kind]#error#

Thrown if the applied setup ID resulting from the supplied setup payload does not match with the current applied setup ID.

